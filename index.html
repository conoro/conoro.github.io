<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cross Dominant &middot; Cross Dominant</title>

    <meta name="description" content="Mixed laterality since 1968">

    <meta name="generator" content="Hugo 0.16-DEV" />
    <meta name="twitter:card" content="summary">
    
    <meta name="twitter:title" content="Cross Dominant &middot; Cross Dominant">
    <meta name="twitter:description" content="Mixed laterality since 1968">

    <meta property="og:type" content="article">
    <meta property="og:title" content="Cross Dominant &middot; Cross Dominant">
    <meta property="og:description" content="Mixed laterality since 1968">

    <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Oxygen:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/pure-min.css">
    <!--[if lte IE 8]>
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-old-ie-min.css">
    <![endif]-->
    <!--[if gt IE 8]><!-->
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-min.css">
    <!--<![endif]-->

    <link rel="stylesheet" href="http://conoroneill.net//css/all.min.css">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">

    <link rel="alternate" type="application/rss+xml" title="Cross Dominant" href="http://conoroneill.net/index.xml" />
</head>
<body>



<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
    <div class="header">
        <hgroup>
            <h1 class="brand-title"><a href="http://conoroneill.net/">Cross Dominant</a></h1>
            <h2 class="brand-tagline"> Mixed laterality since 1968 </h2>
        </hgroup>			
        <nav class="nav">
            <ul class="nav-list">
                
                <li class="nav-item">
                    <a class="pure-button" href="https://twitter.com/conoro"><i class="fa fa-twitter"></i> Twitter</a>
                </li>
                
                
                <li class="nav-item">
                    <a class="pure-button" href="https://github.com/conoro "><i class="fa fa-github-alt"></i> github</a>
                </li>
                
                <li class="nav-item">
                    <a class="pure-button" href="http://conoroneill.net/index.xml"><i class="fa fa-rss"></i> rss</a>
                </li>
            </ul>
        </nav>
		<script>
  (function() {
    var cx = '001461447920948202874:5htheqgvd1w';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
    </div>
</div>


    <div class="content pure-u-1 pure-u-md-3-4">
        <div>
            
            <div class="posts">
                
                <h1 class="content-subhead">02 Jan 2016, 13:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="http://conoroneill.net/when-will-car-insurance-monitoring-apps-become-mandatory/" class="post-title">When will Car Insurance Monitoring Apps become mandatory? 5yrs?</a>

                        <p class="post-meta">
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        

<p>My Car Insurance Broker, 123.ie just offered me up to 10% off my 2016 premium if I installed a driving monitoring app on my phone.</p>

<p><a href="https://ia801809.us.archive.org/32/items/Orwell1984preywo/orwell1984preywo.pdf">No thanks</a></p>

<p>But when does it go from &ldquo;get a discount&rdquo; to &ldquo;we won&rsquo;t insure you unless you install this app&rdquo;?</p>

<h2 id="the-email:e2b6c4ebc89eb12d3dc2d0642245ebc1">The email:</h2>

<p><img src="http://conoroneill.net.s3.amazonaws.com/wp-content/uploads/2016/01/123discount.jpg" alt="123 Discount" /></p>

                    </div>
                </section>
                
                <h1 class="content-subhead">01 Jan 2016, 10:59</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="http://conoroneill.net/how-cheaply-can-you-do-a-full-pi-zero-computer/" class="post-title">How cheaply can you build a full Raspberry #PiZero computer?</a>

                        <p class="post-meta">
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>When the incredible <a href="https://www.raspberrypi.org/blog/raspberry-pi-zero/">$5 Pi Zero was launched</a>, the usual suspects were so busy snarking how it wasn&rsquo;t really $5, that they completely missed what an important moment in computer history this is. You know the type. The ones who would have ridiculed Tim Berners-Lee&rsquo;s design for the web. Or would have told Linus in no uncertain terms that he was misguided and that microkernels were the future.</p>

<p>Whilst you can&rsquo;t turn on a #PiZero for $5, you also can&rsquo;t connect to the LAN with your $1500 Macbook Pro without buying an adapter.</p>

<p>So assuming we don&rsquo;t factor in electricity costs, carbon credits and depreciation on your chair, how cheaply can you build a fully functioning Raspberry Pi Zero, living in the UK?</p>

<p>Here&rsquo;s what you need:</p>

<ul>
<li><a href="http://swag.raspberrypi.org/collections/pi-zero/products/pi-zero">Pi Zero</a> £4 + £3 shipping</li>
<li><a href="http://www.ebay.ie/itm/USB-2-0-High-Speed-4-Port-Power-On-Off-Switch-LED-Hub-for-PC-Laptop-Notebook-HC-/281721438658?hash=item4197e801c2:g:T8sAAOSwKrhVe~h~">Powered USB Hub</a> £1.48</li>
<li><a href="http://www.ebay.ie/itm/New-Micro-USB-Male-to-Female-OTG-Cable-Adapter-for-Mobile-Cell-Phone-/301681189117?hash=item463d99a0fd:g:AtgAAOSwu4BVmnrL">USB OTG adapter</a> £1.10</li>
<li><a href="http://www.aliexpress.com/item/Mini-2-4G-150Mbps-USB-WiFi-Adapter-802-11-b-g-n-Wi-Fi-Dongle-computer/32349764969.html">Wifi Adapter</a> - £1.25</li>
<li>Power Supply - Either spare phone charger or <a href="http://www.aliexpress.com/item/white-1set-Dual-2A-USB-EU-Plug-Wall-Charger-micro-USB-cable-for-Samsung-galaxy-S4/32337450240.html?ws_ab_test=searchweb201556_3,searchweb201644_1_79_78_77_82_80_62_81,searchweb201560_6">anything like this</a> £2.05</li>
<li><a href="http://www.aliexpress.com/item/Hot-2Pcs-USB-2-0-to-DC-3-5mm-Barrel-Connector-Jack-Power-Cable-5v-For/32219412146.html">USB to Power converter</a> - 62p</li>
<li><a href="http://www.amazon.co.uk/gp/offer-listing/B0162YQEIE">SD Card</a> - 16GB Class 10 MicroSD + Adapter - £3.95</li>
<li>Keyboard and Mouse - Any recycling centre for free. Or if you really can&rsquo;t beg borrow or steal one. <a href="http://www.aliexpress.com/item/Modern-Design-Pure-White-Ultra-Thin-Design-2-4GHz-Wireless-Keyboard-Cover-Mouse-Kit-for-Desktop/32325530848.html?ws_ab_test=searchweb201556_3,searchweb201644_1_79_78_77_82_80_62_81,searchweb201560_6">This is</a> £10.26</li>
<li>Mini-HDMI cable/adapter - <a href="http://www.aliexpress.com/item/High-quality-1-5M-1-4-Version-mini-HDMI-male-cable-to-hdmi-cable-for-tablet/1509136887.html?ws_ab_test=searchweb201556_3,searchweb201644_1_79_78_77_82_80_62_81,searchweb201560_6">Cable</a> = £1.30 or <a href="http://www.aliexpress.com/item/2pcs-set-HDMI-to-Mini-HDMI-to-Micro-HDMI-Adapter-Male-to-Female-Converter-for-Xbox/2048848371.html?ws_ab_test=searchweb201556_3,searchweb201644_1_79_78_77_82_80_62_81,searchweb201560_6">Adapter</a> = 97p</li>
</ul>

<p>Total: £29.01</p>

<p>Or with obvious re-use/borrowing of stuff: £16.70</p>

<p>In Ireland? Add £1 extra for shipping the Pi Zero. Possibly a bit for the SD card from Amazon. Everything else free P&amp;P from China.</p>

<p>Do you need a screen? Yup. Now walk into the sitting room and see if you can spot one. Well done.</p>

<p>A £29 fully fitted-out computer, that you could build the next global webapp on, remains completely revolutionary. All for around the same price as an Apple Thunderbolt-to-Ethernet adapter :-)</p>

<p><img src="https://s3-eu-west-1.amazonaws.com/conoroneill.net/wp-content/uploads/2016/01/quacked_the_case.gif" alt="You've Quacked the case" /></p>

                    </div>
                </section>
                
                <h1 class="content-subhead">31 Dec 2015, 21:20</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="http://conoroneill.net/what-excited-me-in-tech-in-2015/" class="post-title">What excited Conor in tech in 2015?</a>

                        <p class="post-meta">
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        

<p>A completely random braindump of stuff that got my juices flowing this year.</p>

<h1 id="esp8266-1-wifi-modules:3ae191ff0530ded325f31357fd1b08a5">ESP8266 $1 Wifi modules</h1>

<p>I&rsquo;ve talked about <a href="http://espressif.com/en/products/esp8266/">the ESP8266</a> constantly all year. A price-point of ~$1 in volume means that you can wifi-enable anything. Where previously you might have used one of the many low bandwidth &ldquo;IoT&rdquo; protocols internally and connected them to hub-device, now you can do Wifi and IP end-to-end. The only downside is high power consumption. I&rsquo;d actually prefer if they did a low-power V2 instead of the bells-and-whistles ESP32.</p>

<p>The number of projects and initiatives that have grown up around ESP8266 is impossible to keep track of. Ones to check out are:</p>

<ul>
<li><a href="http://nodemcu.com/index_en.html">NodeMCU</a> - A really nice <a href="http://www.electrodragon.com/product/nodemcu-lua-amica-r2-esp8266-wifi-board/">dev board</a> and Lua-based stack. This is what I used for most of this year but will be switching to <a href="http://www.espruino.com/">Espruino</a></li>
<li><a href="https://github.com/tve/EspruinoDocs/blob/master/boards/EspruinoESP8266.md">Espruino on ESP8266</a> - Still in heavy development but feels like a complete winner. JavaScript + Wifi for $4 is a killer solution.</li>
<li><a href="https://blog.cesanta.com/esp8266-and-iot-smartjs-starter-guide">Cesanta Smart.js</a> - A Dublin-based company. Ex-Googlers I think. Similar to Espruino but without the community. Wish they&rsquo;d join forces instead.</li>
<li><a href="https://github.com/esp8266/Arduino/">Arduino</a> - Yup, you can run a huge amount of Arduino code straight on the ESP8266. Really exciting to have this. Only drawback is that native AVR code and (I think) interrupt-driven code will not compile. Also far fewer IOs than normal Arduinos.</li>
</ul>

<h1 id="raspberry-pi-zero-and-the-mag-pi-issue-40:3ae191ff0530ded325f31357fd1b08a5">Raspberry Pi Zero and The Mag Pi Issue 40</h1>

<p>A <a href="https://www.raspberrypi.org/blog/raspberry-pi-zero/">$5 computer</a> that came free on the front of a magazine. Very little else needs to be said here. $5 for 1GHz, 512MB RAM, 1080p HDMI, Linux, Mathematica, Node-Red, Kodi and anything else you want to try. I still get the shivers thinking about it. Meanwhile the never-satisfieds will whine about $1 adapters or the fact that it needs electricity. I&rsquo;m framing my first one.</p>

<p><img src="https://s3-eu-west-1.amazonaws.com/conoroneill.net/wp-content/uploads/2015/12/raspberry-pi-zero-_3510859b.jpg" alt="PiZero" /></p>

<h1 id="let-s-encrypt:3ae191ff0530ded325f31357fd1b08a5">Let&rsquo;s Encrypt</h1>

<p>Anyone who has had to go through the rigmarole of setting up a https server knows what a pain it is. The certs are generally completely overpriced too. <a href="https://letsencrypt.org/">Let&rsquo;s Encrypt</a> Certs are free and full automation is already available for Apache, NGINX, Caddy and more. Now you basically have no reason not to use https.</p>

<p>This is a massive industry segment disruption. I&rsquo;m thrilled to see it happen.</p>

<h1 id="security-first-and-privacy-first:3ae191ff0530ded325f31357fd1b08a5">Security First and Privacy First</h1>

<p>I use uBlock Origin, Pop-up Blocker, Do Not Track and Ghostery on all my browsers. A lot of the time I use <a href="https://www.blackvpn.com/">BlackVPN</a> too. Yet somehow, with my anti-business setup, many many companies received online orders and money from me this Christmas. I&rsquo;m done with the online advertising industry. All the stuff Doc Searls has been talking about for years is still valid. As for governments thinking our online activities are their business, you need to start fighting back now.</p>

<h1 id="google-cardboard-and-youtube-360:3ae191ff0530ded325f31357fd1b08a5">Google Cardboard and YouTube 360</h1>

<p>Somehow I completely missed the launch of Cardboard support in YouTube and the creation of 360 videos by an ever growing set of people. The first one I saw was <a href="https://www.youtube.com/watch?v=QnYncJdEh64">Colin Furze</a> and it&rsquo;s just incredible. The <a href="https://www.youtube.com/watch?v=f-7qq8n2iqw">second</a> was one based on Star Wars The Force Awakens, and is 100x better than the movie. I went and got a much more <a href="http://eud.dx.com/product/844380189">high quality plastic</a> &ldquo;Cardboard&rdquo; as a result. It&rsquo;s excellent. The recently launched <a href="https://play.google.com/store/apps/details?id=com.google.vr.cyclops">Google Cardboard Camera</a> is also superb but images are sadly locked to the device the panoramic photo was taken on.</p>

<p>This is one overall technology-set that myself and the kids are 100% in agreement on. It rocks. The next Star Wars movie should be launched on Cardboard (or Oculus or whatevs).</p>

<h1 id="node-js-4-x:3ae191ff0530ded325f31357fd1b08a5">Node.js 4.x</h1>

<p>Phew. The schism has been healed and 4.x is a really great release. Initially I had lots of problems with native modules on Windows which I hope are finally starting to settle down now. Node is still the best choice for a huge range of workloads and cannot be beaten for mobile back-ends.</p>

<h1 id="embedded-javascript:3ae191ff0530ded325f31357fd1b08a5">Embedded JavaScript</h1>

<p>I think JavaScript will completely take over the Embedded world where hard realtime is not required. The <a href="http://www.espruino.com/">Espruino project</a> has shown what is possible here and should be much more widely used. I&rsquo;m looking forward to seeing it running on the BBC&rsquo;s micro:bit. Other projects like <a href="http://cylonjs.com/">Cylon.js</a> are also worth a look.</p>

<h1 id="go-golang:3ae191ff0530ded325f31357fd1b08a5">Go/Golang</h1>

<p>I&rsquo;ll be honest, C has been the only language I really loved working in. I like Python and I really enjoy the productivity of Node.js but C was what I spent most of my real programming years using. C++ is an abomination and Java always feels like a crazy amount of work to eventually run some bloated barely-portable thing.</p>

<p>And then I found <a href="http://golang.org">Go</a> and immediately felt comfortable. It&rsquo;s C with the sharp edges removed and some really useful stuff added. Static compilation is the killer feature for me. Just drop the very-quickly-compiled binary in anywhere and run it. I&rsquo;m using it more and more for small projects that aren&rsquo;t backing a webapp or mobile app. It could work in both those cases too but it just doesn&rsquo;t have the community in that area the way Node.js has.</p>

<p>I think Node.js and Go will dominate software development over the next few years.</p>

<p>Left-field: Go is slowly getting some Android capabilities. Google should go all-in on it and replace Java. If Apple can manage it so well with the move to Swift on iOS (and they used 3 CPU architectures on Mac!), why not? It would kill all the Oracle problems completely and move them away from a legacy language.</p>

<h1 id="scriptcraft-minecraft:3ae191ff0530ded325f31357fd1b08a5">Scriptcraft &amp; Minecraft</h1>

<p>Minecraft continues to dominate my younger kids&rsquo; lives. From Stampy to Servers, they are never bored playing it or watching videos about it. My buddy Walter built the amazing <a href="http://scriptcraftjs.org/">Scriptcraft</a> which enables you to build mods and control Minecraft in, yes you guessed it, JavaScript. <a href="http://www.peachpit.com/store/beginners-guide-to-writing-minecraft-plugins-in-javascript-9780133930146">His book</a> is a must-read for anyone looking for an interesting way to teach kids how to program. I really want to try out some stuff where it interfaces with the real world. I think Microsoft are missing a trick by not rowing in behind Walter and this wonderful project.</p>

<p>It&rsquo;s also a huge pity to watch Lego completely miss the boat here and continue to sell the crazily overpriced and overspecced Mindstorms. There is a sweetspot to be found in an online-world + real-world + electronics + JavaScript and it ain&rsquo;t Lego bleedin Dimensions.</p>

<h1 id="particle-photon:3ae191ff0530ded325f31357fd1b08a5">Particle Photon</h1>

<p>I was given a <a href="https://www.particle.io/">Particle Photon</a> recently and was blown away by how easy the setup was and how slickly the Cloud IDE works even through firewalls and NAT. Despite the Open Source nature of it, I still worry about lock-in to some degree. Having said that, my <a href="https://www.kickstarter.com/projects/digistump/oak-by-digistump-wi-fi-for-all-things-arduino-comp">DigiStump Oak</a> just shipped (ESP8266 again!) and it it now Particle API compatible. I&rsquo;d love to see some sort of multi-vendor federated distributed Particle clouds where you aren&rsquo;t betting your IoT strategy on the financial stability of one startup.</p>

<h1 id="react-native:3ae191ff0530ded325f31357fd1b08a5">React Native</h1>

<p>Use JavaScript to <a href="https://facebook.github.io/react-native/">build Native Apps on iOS and Android</a>. What&rsquo;s not to like? Weird how I hate Facebook the site/app but love so much of their Engineering.</p>

<h1 id="rgb-leds-neopixels:3ae191ff0530ded325f31357fd1b08a5">RGB LEDs / Neopixels</h1>

<p>Ridiculous amount of fun with simple individually controllable RGB LEDs. These are going to be everywhere in 2016. Everywhere.</p>

<h1 id="3d-printing:3ae191ff0530ded325f31357fd1b08a5">3D Printing</h1>

<p>I still adore my <a href="https://printrbot.dozuki.com/Guide/Assembling+the+NEW+Printrbot+Simple+Maker's+Kit/123">Printrbot Simple Maker&rsquo;s Edition</a>. I continue to be surprised by the quality of prints from such a cheap printer. I&rsquo;ve had some fun with Ninjaflex and unusual colours this year. Also a multitude of #PiZero cases! If funds permit, I&rsquo;ll probably start looking at one of the <a href="http://www.bq.com/es/prusa">Prusa i3 variants</a> to get a bigger print area but otherwise it does everything I need.</p>

<h1 id="efibre-by-eir:3ae191ff0530ded325f31357fd1b08a5">eFibre by Eir</h1>

<p>We get 92Mbs down, 19Mbs up. It&rsquo;s completely changed how we use the internet. Bravo Eir(com). Genuinely surpassed all expectations. Getting speeds like that on a poxy twisted pair is staggering.</p>

<p>But let&rsquo;s be absolutely clear about broadband in this country, the Government&rsquo;s latest target of 30Mbs for everyone is a joke. By the time it&rsquo;s done, it&rsquo;ll be completely out of date. Why can these people not understand that ultra-fast broadband everywhere will do more for employment in this country than anything else. They&rsquo;d be heroes in history for doing this right, not remembered as a bunch of clowns who couldn&rsquo;t properly roll out a water quango and postcode quango.</p>

<h1 id="statically-hosted-blogs:3ae191ff0530ded325f31357fd1b08a5">Statically hosted Blogs</h1>

<p>It feels like every day there is another WordPress security scare. And that&rsquo;s without mentioning the plugin ecosystem horror. I got sick of the upgrade cycle treadmill and constant exploits last year and moved everything to statically hosted blogs. First with <a href="http://harpjs.com/">Harp.js</a>, then with <a href="https://hexo.io/">Hexo</a> and now with <a href="https://gohugo.io/">Hugo</a>. All fine tools, all work well with GitHub Pages and OpenShift. The incredible speed of Hugo is what makes it my current favourite. Edit, build, deploy, fuggedaboudit. I will never go back to a traditional DB-backed CMS.</p>

<h1 id="dirt-cheap-android-phones-and-tablets:3ae191ff0530ded325f31357fd1b08a5">Dirt-cheap Android phones and tablets</h1>

<p>I got a <a href="http://www.dx.com/p/presale-doogee-x5-quad-core-android-5-1-wcdma-bar-phone-w-5-0-ips-hd-8gb-rom-gps-xender-black-400551">Doogee X5 Android phone for €55</a> a few weeks ago as a backup device. Apart from the case being a bit plasticky, it could pass for €200 worth. It has a great screen and surprising speed. 2 SIM slots and an SD card slot. Samsung could learn a lot from Doogee.</p>

<p>One of my daughters got the lowest-level Kindle Fire as a Christmas present. The specs are garbage. She loves it. It does absolutely everything she needs and she hasn&rsquo;t asked to use the iPad Mini once since she got it.</p>

<p>I seriously doubt I&rsquo;ll ever buy a premium phone on contract again. Once One Plus return to removable backs, replaceable batteries and SD card slots, I&rsquo;ll jump to either them or the Wileyfox. Apart from the camera, there is practically nothing on my Galaxy S6 that I couldn&rsquo;t do with an S4 or HTC Sensation. And they are both more robust and have replaceable batteries and SD card slots.</p>

<h1 id="linux-everywhere:3ae191ff0530ded325f31357fd1b08a5">Linux everywhere</h1>

<p>Everywhere. This makes me happy. I was very surprised my other daughter was more than happy to get an old hand-me-down laptop running Fedora 23. As long as it had Chrome, YouTube, Kodi and Minecraft she didn&rsquo;t give a damn what the OS was. The OS is irrelevant to all my kids. In our house we segue seamlessly from Android to iOS to Windows to OSX to Fedora to Raspbian. The only things that matter are the apps and the content.</p>

<h1 id="messaging-apps:3ae191ff0530ded325f31357fd1b08a5">Messaging Apps</h1>

<p>Our entire extended family is on WhatsApp including grandparents. SMS is dead to us. MMS was never a thing. I&rsquo;d prefer if we were all using an Open Source secure P2P system but we&rsquo;ll get there. The family breakdown is as follows:</p>

<ul>
<li>Adults: WhatsApp. Tiny amount of FB Messenger</li>
<li>Teens: FB Messenger, some Viber and some WhatsApp to the (grand)parents</li>
<li>Tweens/Smallies: Viber, Snapchat and some WhatsApp to the (grand)parents</li>
<li>Youngest: Uses Hangouts to her cousin. Including live video!</li>
<li>No one: Telegram.</li>
<li>Curveball - Tweens using Instagram comments as a weird chat channel</li>
</ul>

<p>Top tip - WhatsApp needs a phone number, Viber doesn&rsquo;t. Many many smaller kids have tablets, not phones. WhatsApp really missing out here. Our solution is to put free Tesco Mobile SIMs in old phones and never put credit on them. Gets over the WhatsApp problem.</p>

<p>9yo yesterday: &ldquo;What&rsquo;s &lsquo;Messaging&rsquo; on my iPhone&rdquo;. Me: &ldquo;It&rsquo;s SMS&rdquo;. Her: &ldquo;What&rsquo;s that&rdquo;. Me: &ldquo;Texts&rdquo;. Her: &ldquo;Ah ok. Why are there so many apps for messaging? Why not just one?&rdquo;</p>

<h1 id="2fa-and-authy:3ae191ff0530ded325f31357fd1b08a5">2FA and Authy</h1>

<p>Two Factor Authentication is a complete pain in the neck. It really is.</p>

<p>Turn it on everywhere now. Do it. Do it now.</p>

<p>The fact that PayPal still doesn&rsquo;t have it is a complete disgrace. I&rsquo;d strongly recommend using <a href="https://www.authy.com/">Authy</a> instead of the Google Authenticator App. The main reason is that you can install Authy on multiple phones/tablets which you cannot do with Authenticator. They also have a Chrome extension.</p>

<h1 id="things-that-continue-to-disappoint:3ae191ff0530ded325f31357fd1b08a5">Things that continue to disappoint</h1>

<ul>
<li>Twitter - Useless Web App and Mobile App. Still hostile to developers who make better ones. And still no Filters, in 2015!</li>
<li>Facebook - Uninstalled the mobile Apps. A hand-crafted List is the only way to put it under your control. Impossible to use FB for realtime events. Ugh.</li>
<li>Google - Local Search and Reviews remain a complete embarrassment. Have them AdBlocked and Ghostery-ed. Maps degenerating. Photos great tho!</li>
<li>Google Compute Cloud - Awful. Amateur hour. Avoid. Particularly the MySQL service.</li>
<li>Mobile device form factors - Nothing new since 2007. Bored to death of glass slabs.</li>
<li>Mobile device usability - I&rsquo;ll still use a desktop for anything other than quick glance. Everything feels slow and awkward. Android and iOS</li>
<li>Batteries - Hurry up already. The only excitement here seems to be exploding LiPos</li>
<li>AMD CPUs - RIP AMD. After decades of building PCs with AMD CPUs, I got my first i7 in December. It&rsquo;s over AMD, give up.</li>
<li>Emojis - All those emojis but they never have the one I want.</li>
<li>Blockchain - Hype machine in overdrive far too soon. Show me something a kid can understand in 30 seconds and delivers immediate benefit. Everything I&rsquo;ve tried has been a giant pain in the arse including Identity, Money, DNS and Messaging.</li>
</ul>

                    </div>
                </section>
                
                <h1 class="content-subhead">31 Dec 2015, 18:41</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="http://conoroneill.net/my-2015-christmas-turkey-oven-thermometer/" class="post-title">My 2015 Christmas turkey oven thermometer and clock</a>

                        <p class="post-meta">
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        

<p>For the <a href="http://conoroneill.net/our-first-arduino-christmas-turkey/">third year</a> in a row I decided to build a new oven thermometer for the Christmas turkey, as all of the markings on our temperature knob have been gone for years. We also have one of those mechanical dial thermometers you place inside the oven but they are hard to read and get in the way. My last two attempts worked ok but I was concerned about accuracy. I also used a temperature probe in the meat for belt and braces. The setup was as follows:</p>

<ul>
<li><a href="https://www.pjrc.com/store/teensy31.html">Teensy 3.1</a> which has 16-bit (13-bit effective) ADCs rather than the usual Arduino 10-bit</li>
<li>The same <a href="https://www.adafruit.com/products/1778">Adafruit AD8495</a> thermocouple amplifier as last year</li>
<li>A new long, slightly more expensive K-type thermocouple</li>
<li>A <a href="http://www.dx.com/p/produino-5v-voltage-boost-mobile-power-module-green-1a-282899">voltage-booster and battery charging module</a> from DX</li>
<li>A dirt-cheap <a href="http://www.ebay.co.uk/sch/i.html?_nkw=ILI9341">ILI9341 TFT LCD</a> from eBay</li>
<li><a href="http://www.dx.com/p/meeeno-ds1307-real-time-clock-brick-module-for-arduino-yellow-works-with-official-arduino-boards-213941">DS1307 Realtime Clock</a> from DX using an <a href="https://github.com/adafruit/RTClib">Adafruit library</a></li>
<li>A small 3.7V Lipo battery</li>
<li>Lego, as I didn&rsquo;t have enough time to design a 3D-printable case and last year&rsquo;s cardboard was just <a href="https://twitter.com/conoro/status/554986388861779968">too klassy</a></li>
</ul>

<p>The code is a mix of Adafruit, <a href="https://github.com/PaulStoffregen/ILI9341_t3">Paul Stoffregen</a> for the improved LCD code with lovely Magenta Comic Sans Font :-) and my own.</p>

<p>I didn&rsquo;t bother with averaging the values but the jumpiness of the temperature compared to room temp or boiling water tells me our old oven is a disaster and needs replacing.</p>

<p>And just like the previous two years, the turkey was dry despite <a href="http://www.seriouseats.com/2012/11/how-to-spatchcock-cook-turkey-thanksgiving-fast-easy-way-spatchcocked-slideshow.html">spatchcocking it</a>, <a href="http://www.seriouseats.com/2014/11/quick-and-dirty-guide-to-brining-turkey-chicken-thanksgiving.html">dry-brining it</a> and watching the temperature closely :-( Next year I&rsquo;m doing a boned and rolled one and I&rsquo;ve ordered a cheap but protected Chinese <a href="http://www.aliexpress.com/item/Generic-New-3-Meter-High-Temperature-100-1250-C-Thermocouple-K-Type-50mm-Probe-Sensors/32334218983.html">oven probe</a> and <a href="http://www.aliexpress.com/item/Brand-New-TM-902C-Black-K-Type-Digital-LCD-Temperature-Detector-Thermometer-Industrial-Thermodetector-Meter-Thermocouple/32220138975.html">temperature readout</a>.</p>

<p>I really like the DX voltage booster. It enables you to connect a LiPo battery and a micro-USB power source. It then provides 5V on a standard USB socket. The power source can also charge the battery whilst powering the device. You can then remove the power source and the battery will power the device without interruption. It&rsquo;s almost perfect except for one stupid feature. You can&rsquo;t connect a battery to it to power a device without connecting (even momentarily) the power source (e.g. a phone charger). If it could do that then it&rsquo;d be pretty much at the same level as the Adafruit boost devices. I&rsquo;ve been unable to find any datasheets for it but ordered two more anyway.</p>

<h2 id="prototype:711c6bef540d9f4341e884a7bd9c92f3">Prototype</h2>

<p><img src="https://s3-eu-west-1.amazonaws.com/conoroneill.net/wp-content/uploads/2015/12/thermometer05.jpg" alt="Prototype" /></p>

<h2 id="completed-board:711c6bef540d9f4341e884a7bd9c92f3">Completed Board</h2>

<p><img src="https://s3-eu-west-1.amazonaws.com/conoroneill.net/wp-content/uploads/2015/12/thermometer02.jpg" alt="Completed board" /></p>

<h2 id="lego-case:711c6bef540d9f4341e884a7bd9c92f3">Lego Case</h2>

<p><img src="https://s3-eu-west-1.amazonaws.com/conoroneill.net/wp-content/uploads/2015/12/thermometer03.jpg" alt="Lego Case" /></p>

<h2 id="side-view:711c6bef540d9f4341e884a7bd9c92f3">Side View</h2>

<p><img src="https://s3-eu-west-1.amazonaws.com/conoroneill.net/wp-content/uploads/2015/12/thermometer04.jpg" alt="Side View" /></p>

<h1 id="code-latest-always-on-gist-here-https-gist-github-com-conoro-2875556b7477e443ae0a:711c6bef540d9f4341e884a7bd9c92f3">Code (latest always <a href="https://gist.github.com/conoro/2875556b7477e443ae0a">on Gist here</a> )</h1>

<pre><code class="language-c++">// Temperature from AD8495 K-type Thermocoule adapter and Datetime from DS1307 RTC. Displayed on ILI9341 LCD.
//
// MIT License (MIT)
// Copyright (c) 2015 Conor O'Neill
// Portions copyright Limor Fried/Ladyada for Adafruit Industries and others
//
// Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the &quot;Software&quot;), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

#include &lt;Wire.h&gt;
#include &quot;RTClib.h&quot;

#include &quot;SPI.h&quot;
#include &quot;Adafruit_GFX.h&quot;
#include &quot;ILI9341_t3.h&quot;
#include &quot;font_ComicSansMSBold.h&quot;

#if defined(__SAM3X8E__)
    #undef __FlashStringHelper::F(string_literal)
    #define F(string_literal) string_literal
#endif

// These are the pins used for the UNO and Teensy
#define _sclk 13
#define _miso 12
#define _mosi 11
#define _cs 10
#define _dc 9
#define _rst 8

// Using software SPI is really not suggested, its incredibly slow
//Adafruit_ILI9340 tft = Adafruit_ILI9340(_cs, _dc, _mosi, _sclk, _rst, _miso);
// Use hardware SPI
ILI9341_t3 tft = ILI9341_t3(_cs, _dc, _rst);

RTC_DS1307 RTC;

String dateOut=&quot;&quot;;
String timeOut=&quot;&quot;;
String datePrev=&quot;&quot;;
String timePrev=&quot;&quot;;
float temperature=0;
float temperaturePrev=0;

void setup () {
    Serial.begin(57600);

    tft.begin();  
    tft.fillScreen(ILI9341_BLACK);

    Wire.begin();
    RTC.begin();

    // following line sets the RTC to the date &amp; time this sketch was compiled
    // Uncomment this once per power down of the RTC and flash it. Then re-comment-out and reflash
    //RTC.adjust(DateTime(__DATE__, __TIME__));

  if (! RTC.isrunning()) {
    Serial.println(&quot;RTC is NOT running!&quot;);
    // following line sets the RTC to the date &amp; time this sketch was compiled
    //RTC.adjust(DateTime(__DATE__, __TIME__));
  }

}

void loop () {

    // Read temperature as analogue voltage from AD8495
    analogReadResolution(13);  
    int raw = analogRead(A7);
    float Vout = raw * (3.3 / 8191.0);
    temperature = (Vout - 1.25)/0.005;

    // Print Temperature to Serial console
    Serial.println(temperature);

    // Get current DateTime from DS1307 RTC
    DateTime now = RTC.now();

    // Print it to Serial Console
    Serial.print(now.year(), DEC);
    Serial.print('/');
    Serial.print(now.month(), DEC);
    Serial.print('/');
    Serial.print(now.day(), DEC);
    Serial.print(' ');
    Serial.print(now.hour(), DEC);
    Serial.print(':');
    Serial.print(now.minute(), DEC);
    Serial.print(':');
    Serial.print(now.second(), DEC);

    // Generate nicely formatted datetime string for ILI9341
    dateOut=&quot;&quot;;
    timeOut=&quot;&quot;;
    if (now.hour() &lt; 10){
        timeOut += &quot;0&quot;;
    }
    timeOut += now.hour();
    timeOut += ':';
    if (now.minute() &lt; 10){
        timeOut += &quot;0&quot;;
    }
    timeOut += now.minute();
    timeOut += ':';
    if (now.second() &lt; 10){
        timeOut += &quot;0&quot;;
    }
    timeOut += now.second();
    Serial.println();
    if (now.day() &lt; 10){
        dateOut += &quot;0&quot;;
    }
    dateOut += now.day();
    dateOut += '/';
    if (now.month() &lt; 10){
        dateOut += &quot;0&quot;;
    }
    dateOut += now.month();
    dateOut += '/';
    dateOut += now.year();

    // Print Temperature and Datetime to ILI9341 LCD
    unsigned long start = micros();
    tft.setCursor(0, 0);
    tft.setTextColor(ILI9341_MAGENTA);
    tft.setFont(ComicSansMS_24_Bold);
    tft.println(&quot;Temperature:&quot;);

    // Wipe out previous text and write new text
    tft.setCursor(0, 45);
    tft.setTextColor(ILI9341_BLACK);
    tft.println(temperaturePrev);
    tft.setTextColor(ILI9341_MAGENTA);
    tft.println(temperature);
    temperaturePrev = temperature;

    // Wipe out previous text and write new text
    tft.setCursor(0, 100);
    tft.setTextColor(ILI9341_BLACK);
    tft.println(datePrev);
    tft.setTextColor(ILI9341_MAGENTA);
    tft.println(dateOut);
    datePrev = dateOut;

    // Wipe out previous text and write new text
    tft.setCursor(0, 145);
    tft.setTextColor(ILI9341_BLACK);
    tft.println(timePrev);
    tft.setTextColor(ILI9341_MAGENTA);
    tft.println(timeOut);
    timePrev = timeOut;

    delay(1000);
}
</code></pre>

                    </div>
                </section>
                
                <h1 class="content-subhead">30 Dec 2015, 17:15</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="http://conoroneill.net/auto-tweeting-the-bandon-floods-with-twilio-tasker-lets-encrypt-a-pi-zero-golang-caddy-and-an-asus-router/" class="post-title">Auto-tweeting the #Bandon floods with Twilio, Tasker, Let&#39;s Encrypt, a #PiZero, golang, Caddy and an Asus router</a>

                        <p class="post-meta">
                            
                            
                                under 
                                
                                
                            
                        </p>
                    </header>

                    <div class="post-description">
                        

<h2 id="intro:e19abcb8e6b6d101fc1a316dfdf4aa74">Intro</h2>

<p>I haven&rsquo;t blogged properly about the $5 <a href="https://www.raspberrypi.org/blog/raspberry-pi-zero/">Raspberry Pi Zero</a> computer yet, despite Tweeting non-stop about it. I will soon. In the meantime, I&rsquo;ll just repeat that</p>

<p><em>It&rsquo;s a major moment in computing</em></p>

<iframe src="https://player.vimeo.com/video/146893658" width="500" height="281" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>

<p>The inclusion of a free one on the cover of the <a href="https://www.raspberrypi.org/magpi/raspberry-pi-zero-out-today-get-it-free-with-the-magpi-40/">MagPi Magazine</a> will be remembered for years to come.</p>

<p>The town in which I live, Bandon, flooded again recently, because Ireland. I&rsquo;ve had <a href="https://github.com/conoro/bandonfews-nodejs">a simple Node.js app</a> running on a Gen 1 Raspberry Pi B, scraping the <a href="http://www.bandonfloodwarning.ie/">Bandon Flood Warning</a> site every 15 minutes for the past four years and saving the data in <a href="https://www.google.com/fusiontables/DataSource?docid=103YIcARoxuaWT7NfZ8mVBzY554sF_3ONYC1N3DE&amp;pli=1#chartnew:id=5">Google Fusion Tables</a>.</p>

<p>Yes that&rsquo;s how Cork County Council&rsquo;s/OPW&rsquo;s Flood Warning site looks in the middle of one of our biggest floods ever:</p>

<p><img src="https://s3-eu-west-1.amazonaws.com/conoroneill.net/wp-content/uploads/2015/12/service_unavailable.jpg" alt="FEWS Unavailable" /></p>

<p>With all this flooding, I decided to finally create a related setup which takes the SMS Flood alerts from the County Council and auto-tweets them to the <a href="https://twitter.com/bandonfews">@BandonFEWS</a> Twitter account which I created and have manually updated since 2011.</p>

<h2 id="the-details:e19abcb8e6b6d101fc1a316dfdf4aa74">The Details</h2>

<p>So the final $7 hardware (including Wifi adapter) now looks as follows:</p>

<p><img src="https://s3-eu-west-1.amazonaws.com/conoroneill.net/wp-content/uploads/2015/12/pizero_fews.jpg" alt="PiZero FEWS" /></p>

<ul>
<li>My phone is registered with the Bandon Flood Warning site (it has been for years)</li>
<li>I have a <a href="https://www.twilio.com/">Twilio</a> account with a $1 per month UK SMS number. Irish numbers are $6 per month :-(</li>
<li>SMSes are sent to my phone from Cork CoCo announcing a new flood warning level or severe weather alert (two different systems and numbers)</li>
<li>The Android <a href="https://play.google.com/store/apps/details?id=net.dinglisch.android.taskerm&amp;hl=en">Tasker App</a> watches for SMS from these sources with particular contents</li>
<li>Tasker auto-forwards these SMSes to my Twilio number</li>
</ul>

<p><img src="https://s3-eu-west-1.amazonaws.com/conoroneill.net/wp-content/uploads/2015/12/tasker.jpg" alt="Tasker" /></p>

<ul>
<li>I have the Twilio number configured to call a my simple API end-point with the SMS contents</li>
<li>The API end-point is running on one of my $5 Raspberry Pi Zeros and is written in <a href="https://golang.org/">Go</a>. Code below.</li>
<li>The PiZero is behind my home router which is an <a href="https://www.asus.com/ie/Networking/RTAC68U/">Asus RT-AC68</a> so somehow Twilio had to connect through that to the Zero</li>
<li>I initially setup a simple port forward to the Zero and I already use <a href="http://no-IP.com">no-IP.com</a> for Dynamic DNS. So Twilio called <a href="http://something.no-ip.net:1234">http://something.no-ip.net:1234</a> and my router passed the request to the PiZero server app on port blah</li>
<li>The PiZero server app parsed the POST request and extracted out the SMS. It split this into multiple Tweets (a la Tweetstorm) if more than 140 chars and used the <a href="https://github.com/ChimeraCoder/anaconda">Anaconda Go client library</a> to post that to @BandonFEWS on Twitter</li>
<li>Done</li>
</ul>

<p>But I wasn&rsquo;t happy with http, nooooo, I wanted https and I wanted to use <a href="https://letsencrypt.org/">Let&rsquo;s Encrypt</a>. Cue rabbit hole.</p>

<h2 id="let-s-encrypt-and-caddy:e19abcb8e6b6d101fc1a316dfdf4aa74">Let&rsquo;s Encrypt and Caddy</h2>

<p>Let&rsquo;s Encrypt offers free https certs.</p>

<p><em>It&rsquo;s as revolutionary as the PiZero.</em></p>

<p>It also provides APIs so this can be done completely automatically. This resulted in lots of people adding easy Let&rsquo;s Encrypt integration and client libraries very quickly.</p>

<ul>
<li><a href="https://caddyserver.com/">Caddy</a> is a really nice simple-to-use web-server written in Go. It runs perfectly on the PiZero. It also has completely automatic Let&rsquo;s Encrypt integration if you want it. So I stuck it in front of my Go server to turn it into a https server. Except life is never that easy.</li>
<li>I hit two immediate problems:

<ul>
<li>I&rsquo;d have to drop no-IP for Dynamic DNS since I&rsquo;m trying to register for my own https cert</li>
<li>To stop baddies registering domains they don&rsquo;t own, Let&rsquo;s Encrypt calls back to you and insists on doing that on port 443. So my random high port number on my router wasn&rsquo;t going to work</li>
</ul></li>
<li>Then I realised that my DNS provider, <a href="http://www.dnsmadeeasy.com/">DNSMadeEasy</a> has Dynamic DNS built-in. So I grabbed one of my parked domains and set it up with a Dynamic DNS A Record, giving it a dedicated password. But then of course I discovered that my Asus Router doesn&rsquo;t have support for Custom Dynamic DNS out of the box.</li>
<li>I quickly found the <a href="http://asuswrt.lostrealm.ca/">Merlin Firmware</a> which is interesting. The standard Asus firmware is just a simplified fork of <a href="http://www.polarcloud.com/tomato">Tomato</a> so Merlin forks again and adds back in the stuff that Asus removed. So you keep the same UI and general functionality, just with more customisation.</li>
<li><a href="https://github.com/RMerl/asuswrt-merlin/wiki/Installation">Installation was a doddle</a> and then I just had to whip up a simple script a few lines long to call out to DNSMadeEasy whenever the router&rsquo;s IP address changed (see below).</li>
<li>I then temporarily port forwarded 443 on the router to the Pi Zero and started Caddy with this incredibly complicated config file :-)</li>
</ul>

<p>Caddyfile:</p>

<pre><code>file
https://www.conorsdomain.com
proxy / localhost:9998
</code></pre>

<ul>
<li>Caddy saw that I wanted https, so it connected to Let&rsquo;s Encrypt and a minute later I had everything necessary for my secure web-server.</li>
</ul>

<p><em>Jaw-drop time</em></p>

<ul>
<li>Once the registration was done I could remove the 443 port forward and switch to a non-standard port</li>
<li>I went over to Twilio and provided the new <a href="https://conorsdomain.com:9999">https://conorsdomain.com:9999</a> as the end-point to call. No joy. But a quick support ticket later and they made a change over the weekend(!) to fix it. Boom, everything working fine.</li>
<li>With the terrible weather, I didn&rsquo;t have to wait long for the first non-test SMS to appear. A couple of seconds later it was on Twitter:</li>
</ul>

<p><img src="https://s3-eu-west-1.amazonaws.com/conoroneill.net/wp-content/uploads/2015/12/flood_alert.jpg" alt="Bandon Flood Warning" /></p>

<h2 id="alternatives:e19abcb8e6b6d101fc1a316dfdf4aa74">Alternatives</h2>

<ul>
<li>Of course I could exclude Twilio from this entire flow and call the end-point directly from Tasker but SMS will often work when no data connection is available.</li>
<li>Having said that, the connection to the phone is a big worry as we are in a poor signal area. But registering my UK Twilio number on the Flood Warning site didn&rsquo;t work (local warnings for local people) and I&rsquo;m not paying $6 a month for an Irish number.</li>
<li>In theory I could take the scraped data from the site and generate my own alerts but the Council rightly overrides the default trigger levels on occasion to warn people of impending flooding.</li>
</ul>

<h2 id="go-code-see-for-https-gist-github-com-conoro-f1a3f7c5b96e2b033119-https-gist-github-com-conoro-f1a3f7c5b96e2b033119-for-latest:e19abcb8e6b6d101fc1a316dfdf4aa74">Go Code (See for <a href="https://gist.github.com/conoro/f1a3f7c5b96e2b033119">https://gist.github.com/conoro/f1a3f7c5b96e2b033119</a> for latest)</h2>

<pre><code class="language-go">package main

import (
	&quot;encoding/json&quot;
	&quot;fmt&quot;
	&quot;log&quot;
	&quot;net/http&quot;
	&quot;net/url&quot;
	&quot;os&quot;
	&quot;strconv&quot;
	&quot;strings&quot;
	&quot;time&quot;

	&quot;github.com/ChimeraCoder/anaconda&quot;
)

type Configuration struct {
	ConsumerKey       string
	ConsumerSecret    string
	AccessToken       string
	AccessTokenSecret string
}

func main() {
	file, _ := os.Open(&quot;conf.json&quot;)
	//file, _ := os.Open(&quot;conf-test.json&quot;)
	decoder := json.NewDecoder(file)
	configuration := Configuration{}
	err := decoder.Decode(&amp;configuration)
	if err != nil {
		fmt.Println(&quot;config error:&quot;, err)
	}
	anaconda.SetConsumerKey(configuration.ConsumerKey)
	anaconda.SetConsumerSecret(configuration.ConsumerSecret)
	api := anaconda.NewTwitterApi(configuration.AccessToken, configuration.AccessTokenSecret)

	http.HandleFunc(&quot;/&quot;, func(w http.ResponseWriter, r *http.Request) {
		body := r.PostFormValue(&quot;Body&quot;)
		log.Println(string(body))
		if strings.Contains(body, &quot;Bandon FEWS&quot;) || strings.Contains(body, &quot;Met Eireann&quot;) {
			fmt.Fprintf(w, &quot;Thanks for the update&quot;)

			a := []rune(body)
			if len(a) &lt;= 140 {
				// Just post normal Tweet
				result, err := api.PostTweet(body, nil)
				if err != nil {
					fmt.Println(err)
				} else {
					fmt.Println(result)
					fmt.Println(&quot;Tweet ID: &quot;, result.Id)
				}
			} else {
				// have to split into a Tweetstorm
				var originalTweetID int64
				var subTweet string = &quot;&quot;
				var tweetCount int64 = 0
				tweetParams := url.Values{}
				for i, r := range a {
					subTweet = subTweet + string(r)
					if i &gt; 0 &amp;&amp; (i+1)%137 == 0 {
						tweetCount++
						// Need to do normal first tweet but in_reply_to successive tweets
						if tweetCount == 1 {
							// Just Tweet and extract the ID from the response
							result, err := api.PostTweet(&quot;1/ &quot;+subTweet, nil)
							if err != nil {
								fmt.Println(err)
							} else {
								fmt.Println(result)
								originalTweetID = result.Id
							}
						} else {
							// adding one second delay in Tweetstorm to prevent any throttling by Twitter
							time.Sleep(time.Second)
							// Tweet in reply to the first tweet by setting in_reply_to_status_id
							// originalTweetID
							tweetParams.Set(&quot;in_reply_to_status_id&quot;, strconv.FormatInt(originalTweetID, 10))
							result, err := api.PostTweet(strconv.FormatInt(tweetCount, 10)+&quot;/ &quot;+subTweet, tweetParams)
							if err != nil {
								fmt.Println(err)
							} else {
								fmt.Println(result)
							}
						}
						subTweet = &quot;&quot;
					}
					if i == len(a)-1 &amp;&amp; subTweet != &quot;&quot; {
						// just Tweet whatever text is left at the end
						time.Sleep(time.Second)
						tweetCount++
						// Tweet in reply to the first tweet by setting in_reply_to_status_id
						// originalTweetID
						tweetParams.Set(&quot;in_reply_to_status_id&quot;, strconv.FormatInt(originalTweetID, 10))
						result, err := api.PostTweet(strconv.FormatInt(tweetCount, 10)+&quot;/ &quot;+subTweet, tweetParams)
						if err != nil {
							fmt.Println(err)
						} else {
							fmt.Println(result)
						}
					}
				}
			}
		}
	})

	log.Fatal(http.ListenAndServe(&quot;:8333&quot;, nil))

}
</code></pre>

<h2 id="asus-dnsmadeeasy-update:e19abcb8e6b6d101fc1a316dfdf4aa74">Asus DNSMadeEasy Update</h2>

<p>This is smidge fiddly. <a href="https://github.com/RMerl/asuswrt-merlin/wiki/Custom-DDNS">More details here</a>. Once you have Merlin installed and you are happily connected to the internet again (you did remember to write down all the settings for your ISP didn&rsquo;t you?). You need to:</p>

<ul>
<li>Go to Administration -&gt; System</li>
<li>Enable SSH, which also obviously gives you SFTP</li>
<li>Toggle &ldquo;Format JFFS partition at next boot&rdquo; to Yes</li>
<li>Toggle &ldquo;Enable JFFS custom scripts and configs&rdquo; to Yes</li>
<li>Click Apply</li>
<li>SSH on to the box with your router&rsquo;s Admin username and password</li>
<li>Create a file called /jffs/scripts/ddns-start</li>
<li>Make it executable (chmod 755 ddns-start)</li>
<li>Copy these contents into ddns-start</li>
</ul>

<pre><code class="language-bash">#!/bin/sh
USERNAME=&quot;yourDNSMadeEasyUsername&quot;
PASSWORD=&quot;TheSpecificPasswordYouSetOnThatDNSRecord&quot;
IP=${1}
ID=&quot;TheSpecificRecordIDAssignedbyDNSMaseEasy&quot;

curl -k &quot;https://cp.dnsmadeeasy.com/servlet/updateip?username=${USERNAME}&amp;password=${PASSWORD}&amp;id=${ID}&amp;ip=${IP}&quot; &gt;/dev/null

if [ $? -eq 0 ]; then
    /sbin/ddns_custom_updated 1
else
    /sbin/ddns_custom_updated 0
fi

</code></pre>

<ul>
<li>Do a reboot for good measure and you should see DDNS displaying success on the main dashboard</li>
</ul>

                    </div>
                </section>
                
                <h1 class="content-subhead">27 Dec 2015, 16:38</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="http://conoroneill.net/blogging-from-my-phone-with-droidedit-hugo-github-travis/" class="post-title">Blogging from my phone with DroidEdit, Hugo, GitHub Pages and Travis</a>

                        <p class="post-meta">
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>I switched this blog to the superb Go-based tool <a href="https://gohugo.io/overview/usage/">Hugo</a> earlier in the year. Its staggering speed compared to HarpJS and Hexo plus a single executable you can drop in anywhere, make it a no-brainer for static blogs.</p>

<p>I continued to host for free on <a href="https://pages.github.com/">GitHub Pages</a> which means I never ever ever have to worry about WordPress security exploits or badly written plugins again. However using GH Pages means you are quite limited in how things work.</p>

<p>For several months I used Hugo in the recommended way of having <a href="https://github.com/conoro/hugo.conoroneill.net">one Git repo</a> for the blog&rsquo;s &ldquo;source files&rdquo; and then the original <a href="https://github.com/conoro/conoro.github.io">conoro.github.io repo</a> as a Git sub-module for the deployed HTML. I&rsquo;ve never heard a good word said about Git sub-modules and now I understand why. Nasty awkward things that mess everything up if you blink wrong. But it worked ok-ish until I decided to try <a href="https://travis-ci.org">Travis CI</a>.</p>

<p>Travis is a continuous integration tool that can watch for changes in your GitHub repos and then run &ldquo;jobs&rdquo; on them. It&rsquo;s mainly used for building software but there is no reason you can&rsquo;t use it for building a blog. So the initial idea was that I would git add/commit a new blog post in my source repo and then Travis would run Hugo on it and commit the generated HTML to the blog, thereby publishing it.</p>

<p>The real intent was so I could blog from devices that don&rsquo;t run Hugo like phones and tablets. Of course they&rsquo;d somehow need to support a text editor and Git but not Hugo itself.</p>

<p>For Android I quickly found the superb <a href="https://play.google.com/store/apps/details?id=com.aor.droidedit.pro&amp;hl=en">DroidEdit</a> which has Git support built-in. It was dead easy to use it to generate a new post and add that to my repo. So I would have almost WordPress-level of easiness in blogging on the fly. Its only real drawback is the lack of Markdown syntax highlighting.</p>

<p><img src="https://s3-eu-west-1.amazonaws.com/conoroneill.net/wp-content/uploads/2015/12/droidedit.png" alt="DroidEdit" /></p>

<p>Except then I tried to get it working with Travis. Several weekends of effort trying to wrangle the Git sub-module setup into submission ended in total frustration. Finally today I said &ldquo;sod sub-modules&rdquo; and went old-school &ldquo;copy the files from one repo to the other and commit them there&rdquo;. And ye know what? <a href="https://travis-ci.org/conoro/hugo.conoroneill.net">It worked</a>!</p>

<p>There&rsquo;s a few bits in there to do with using https:// instead of git://. But the critical one-off steps on your PC are:</p>

<ol>
<li>get a <a href="https://github.com/settings/applications">Github token</a> for Travis</li>
<li>Then <a href="https://docs.travis-ci.com/user/encryption-keys/">install Travis locally</a></li>
<li>and encrypt your token via:
<code>bash
travis encrypt GH_TOKEN=&lt;secret token here&gt;  
</code></li>
<li>Finally add that output to the &ldquo;secure&rdquo; string in .travis.yml.</li>
</ol>

<p>So here you go with the files you need to do the same:</p>

<p>.travis.yml</p>

<pre><code class="language-yaml">language: go
go:
  - 1.5.1
sudo: required
env:
  global:
  - USER: Conor O'Neill
  - EMAIL: cwjoneill@gmail.com
  - GH_REF: github.com/conoro/conoro.github.io.git
  - REPO: conoro.github.io
  - GH_REPO: github.com/conoro/${REPO}.git
  - secure: &quot;hHQScM7MWsK/74fvtoBn7lKuTKx1XlU08Ee4UD6ce0wfKNdE/W8z2dn8qzEsSw3YaoU6AULQgXthX+LVAXVZr1wIC6H9Kvjilaj+9ffRXFKrUv79q8s4EiOKqIvYGla5XlhIzP1Qu1qyLCA4dzgaQF6Cn2jB9AkkObnd8YArf3aW3LUbAnRy0ySo0A/QRupN/ckb81LXYnfbzQZB9zniBIhvGPipR0KdQL7GePShPWDeXJPpblo5kEXiIvHo7b1XYx+xACmaQR9PdoDgoTCAFqz2tJzCU92PnbIGw4Jv/ZdnWmt8Z6/4dO73UhcE3PokPvmg7tdsHbFWxhEzg0NaC7cvYsH3xWy9uTipwYLRd3eGbBt+htCZOj+slNHzREkPJBtEBw+b4iLDAr0T5V0kyflgsGOcgSXPyLIKsI0rHFRVAsZxowowK1UjZ05tnSIlFcIK8DX9c0JoXpM2ktOUt8/2EPCbaoKv17HW4BVDb7vXR8VzBf5MY4qku9NrmmYTMJXrzcdQU8JrbASPlHyF79n5xiiyg74Vq2OYCgHPg1nzmSrC1YgQu0W5WXNjWo9jt8h9C3ztuNYvDJkKkXl7KZDTq/s2XEzpzuLIA4rdTX+7lUB93ggN2YFeh6LV+kq58L8BpMPyiT8kxZLMF0HFTzaRNNwymelkPsV/+QZydro=&quot;
git:
  submodules: false
# Use sed to replace the SSH URL with the public URL, then initialize submodules
before_install:
  - sed -i 's/git@github.com:/https:\/\/github.com\//' .gitmodules
install:
  - sudo pip install Pygments
  - go get github.com/spf13/hugo
script: bash ./deploy.sh
</code></pre>

<p>deploy.sh</p>

<pre><code class="language-bash">#!/bin/bash

echo -e &quot;\033[0;32mDeploying updates to GitHub...\033[0m&quot;

git config --global user.email &quot;cwjoneill@gmail.com&quot;
git config --global user.name &quot;Conor O'Neill&quot;

# Build the project.
hugo # if using a theme, replace by `hugo -t &lt;yourtheme&gt;`

git clone https://github.com/conoro/conoro.github.io.git
cp -R public/* ${REPO}
cd ${REPO}
git remote
git add -A :/
git commit -a -m &quot;latest via travis&quot;
git push &quot;https://${GH_TOKEN}@${GH_REPO}&quot; master &gt; /dev/null 2&gt;&amp;1
</code></pre>

                    </div>
                </section>
                
                <h1 class="content-subhead">27 Dec 2015, 11:34</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="http://conoroneill.net/simple-individual-150-rgb-led-control/" class="post-title">Simple Christmas Control of each LED in a 150 RGB LED WS2812 strip</a>

                        <p class="post-meta">
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>One mistake I made with our <a href="http://conoroneill.net/all-the-tech-behind-our-halloween-hallway-of-horror/">Halloween setup</a> was buying an analogue RGB LED strip where all the LEDs had to be set to the same colour. Then a few weeks ago, <a href="https://twitter.com/joedesbonnet">Joe Desbonnet</a> Facebooked about getting a waterproof WS2812 strip with individual LED control. And it wasn&rsquo;t that much more expensive than the analogue one. Off to eBay I went <a href="http://www.ebay.com/itm/141757617308?_trksid=p2057872.m2749.l2649&amp;var=440868603421&amp;ssPageName=STRK%3AMEBIDX%3AIT">and ordered one</a>, far too late for Christmas.</p>

<p>So I was chuffed that it arrived on Christmas Eve. Unfortunately the 8 amp PSU I ordered on Aliexpress didn&rsquo;t arrive. A quick rustle in my psu drawer found a 4 amp one. Another quick rustle in another box found an old <a href="https://www.arduino.cc/en/Main/ArduinoBoardNano">Arduino Nano</a> and it took barely 5 mins to load it up with the <a href="https://github.com/adafruit/Adafruit_NeoPixel/blob/master/examples/strandtest/strandtest.ino">Adafruit strand test code</a> and wire everything together (one digital pin, gnd, 5v) to give this:</p>

<p><iframe src="https://vine.co/v/iAaKnlhxXWX/embed/simple" width="600" height="600" frameborder="0"></iframe><script src="https://platform.vine.co/static/scripts/embed.js"></script></p>

<p>The psu was running warm but not crazily so. However the Arduino kept crashing which hinted that the psu was dropping below 5V to power all those LEDs. So I ran separate power to the Arduino from a phone charger.</p>

<p>This was followed by 4km of duct tape as the connections and Arduino would have to live outside. A gale was blowing as I tried to attach it to the window frame so I switched to the more sheltered door frame. This <a href="http://www.everbuild.co.uk/index.php?route=product/product&amp;product_id=364">Mammoth tape</a> worked <em>really</em> well:</p>

<div>
<iframe src="https://vine.co/v/iAWEdMizFbB/embed/simple" width="600" height="600" frameborder="0"></iframe><script src="https://platform.vine.co/static/scripts/embed.js"></script>
</div>

<p>And that was it. Almost zero effort for the best house light decoration we&rsquo;ve ever done. Since these strips can be cut to any length you want and also spliced together, I&rsquo;ll be fashioning a full house-length monstrosity for next Christmas. However I doubt I&rsquo;ll ever reach this level:</p>


<div style="position: relative; padding-bottom: 56.25%; padding-top: 30px; height: 0; overflow: hidden;">
  <iframe src="//www.youtube.com/embed/90oZ52M4IC0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;" allowfullscreen frameborder="0"></iframe>
 </div>


                    </div>
                </section>
                
                <h1 class="content-subhead">16 Nov 2015, 22:35</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="http://conoroneill.net/onion-omega-first-impressions-running-golang-nodejs/" class="post-title">First impressions of @OnionIoT Omega. Also running #golang 1.1.2 and #nodejs 0.10.5 on MIPS</a>

                        <p class="post-meta">
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        

<p>I did a splurge of backing IoT KickStarters a few months ago and the <a href="https://onion.io/omega/">Onion Omega</a> is the first one to land in my postbox. It&rsquo;s a tiny (barely bigger than an SD card) board running the same basic guts as many OpenWRT routers i.e. 400 MHz Atheros MIPS CPU with 64MB of DRAM and 16MB of Flash.</p>

<p><img src="http://conoroneill.net.s3.amazonaws.com/wp-content/uploads/2015/11/omega_sd.jpg" alt="Onion Omega" /></p>

<p>If you&rsquo;re not familiar with <a href="https://openwrt.org/">OpenWRT</a>, it&rsquo;s an Open Source community replacement firmware for many routers (similar to DD-WRT that I&rsquo;ve used many times) and is Linux under the hood. You generally do your own custom Firmware builds which bundle exactly what you want but you can also install packages via the opkg tool.</p>

<p>Obviously 400MHz with tiny RAM cannot compete with an RPi but it is far more powerful than most MCUs and runs Linux. The question is whether this middle ground addresses a big enough market, particularly when the price point is almost the same as an RPi Model A and you need to buy add-on cards to work easily with it. I&rsquo;m not sure yet.</p>

<p>The Onion team are currently building a Web UI and an IoT &ldquo;Cloud&rdquo; as value-adds and of course everything is OpenSource.</p>

<p>The fact that it just launched means that the software story isn&rsquo;t great right now. The KickStarter mentions things like Node but that isn&rsquo;t available in a supported way. Also the effort around accessing GPIOs etc is focused on Python. And add-on boards like the OLED screen I bought have no support yet.</p>

<p><img src="http://conoroneill.net.s3.amazonaws.com/wp-content/uploads/2015/11/omega_kit.jpg" alt="Onion Omega Kit" /></p>

<h2 id="summary-opinion:6373a9f13467451d12a87cf58bb7873b">Summary Opinion</h2>

<p>Overall it&rsquo;s a nice board but the lack of &ldquo;buzz&rdquo; around it has me a little worried. The number one thing that projects like this need is community. I think the CHiP might steal a lot of its thunder with more welly at a much lower pricepoint. But perhaps a focus on realtime embedded applications will help here.</p>

<p>I&rsquo;d like to see a library like WiringPi built for it that can easily have wrappers for others languages implemented.</p>

<p>I think it&rsquo;ll be ideal as a home API server that I can put anywhere and forget about.</p>

<p>Another area it could shine, due to its tiny size and low power consumption is robotics. See my comment below about <a href="http://gobot.io/">Gobot</a>.</p>

<h2 id="node-js-partial-success:6373a9f13467451d12a87cf58bb7873b">Node.js partial success</h2>

<p>After an initial play around with it, I decided to try out Node and Go. Node was <a href="https://community.onion.io/topic/46/simple-node-js-wrapper-samples">built by a community member</a> but is back on version 0.10.5.</p>

<p>I copied the Node executable and libv8 to a USB stick and plugged that into the Onion standard &ldquo;dock&rdquo;. I mounted it and ran hello world successfully. Hurrah!</p>

<p>But then I realised it doesn&rsquo;t have NPM. So I put together a simple Tweeting App, did the NPM install on my Fedora VM and then copied everything to the USB stick.</p>

<p>The code which ran fine on Fedora crapped out with &ldquo;not authenticated&rdquo; on the Onion. I tried two other Twitter modules with the same result. I wasn&rsquo;t able to see any other error apart from Twitter complaining about authentication.</p>

<p>So I gave up on Node for the moment.</p>

<h2 id="golang-1-1-2-first-failed-attempt:6373a9f13467451d12a87cf58bb7873b">Golang 1.1.2 first failed attempt</h2>

<p>On to Go and a giant big rabbit hole.</p>

<p>So you can&rsquo;t get a recent version of Go for MIPS. However, one smart person <a href="https://github.com/GeertJohan/openwrt-go">forked OpenWRT and added Go support</a> via <a href="https://gcc.gnu.org/onlinedocs/gccgo/Invoking-gccgo.html">gccgo</a>. Yay it&rsquo;s Go, boo it&rsquo;s Go 1.1.2.</p>

<p>But I thought it&rsquo;d be a good experience to try building OpenWRT from scratch anyway. The <a href="https://github.com/GeertJohan/openwrt-go/issues/2">instructions here</a> and <a href="http://www.sajalkayan.com/post/golang-openwrt-mips.html">here</a> are pretty straightforward and I managed to build the Gnu cross-compile toolchain inside a Fedora 22 VM on Windows 10.</p>

<p>NOTE: DO NOT DO THE FOLLOWING. IT DIDN&rsquo;T WORK. FOLLOW THE STEPS LATER FOR CLEAN NEW OPENWRT</p>

<pre><code>git clone git@github.com:GeertJohan/openwrt-go.git openwrt
cd openwrt
./scripts/feeds update -a
./scripts/feeds install -a
cp ~/Desktop/scons-2.3.5.tar.gz dl (needed to download this manually as it was missing)
cp ~/Desktop/openssl-1.0.2c.tar.gz dl (needed to download this manually as it was missing)
make menuconfig
</code></pre>

<p>In menuconfig you have to enable a few things:</p>

<ul>
<li>-&gt; Advanced configuration options</li>
<li>&ndash;&gt; Toolchain options</li>
<li>&mdash;&gt; C library implementation</li>
<li>&mdash;-&gt; Use eglibc</li>
<li>-&gt; Advanced configuration options</li>
<li>&ndash;&gt; Toolchain options</li>
<li>&mdash;&gt; Select Build/Install gccgo</li>
</ul>

<p>Then save and exit, followed by:</p>

<pre><code>make
</code></pre>

<p>Several hours later on my old i7 laptop, I had everything I needed.</p>

<p>Then a simple helloworld Web Server helloweb.go that only uses standard library features:</p>

<pre><code>package main

import (
    &quot;fmt&quot;
    &quot;net/http&quot;
)

func handler(w http.ResponseWriter, r *http.Request) {
    fmt.Fprintf(w, &quot;Hi there, I love %s!&quot;, r.URL.Path[1:])
}

func main() {
    http.HandleFunc(&quot;/&quot;, handler)
    http.ListenAndServe(&quot;:8080&quot;, nil)
}
</code></pre>

<p>Create ~/openwrt.config which consists of</p>

<pre><code>export STAGING_DIR=/home/conor/openwrt/staging_dir 
export TOOLCHAIN_DIR=$STAGING_DIR/toolchain-mips_34kc_gcc-4.8-linaro_glibc-2.19 
export LDCFLAGS=$TOOLCHAIN_DIR/usr/lib 
export LD_LIBRARY_PATH=$TOOLCHAIN_DIR/usr/lib 
export PATH=$TOOLCHAIN_DIR/bin:$PATH
</code></pre>

<p>Then build it:</p>

<pre><code>. ~/openwrt.config
mips_gccgo -Wall -o helloweb_static_libgo helloweb.go -static-libgo
</code></pre>

<p>I copied it over to the Onion but no joy. It just kept saying &ldquo;not found&rdquo;. Distant memories told me this was related to libraries and versions but nothing I tried worked. So I took a break.</p>

<h2 id="golang-1-1-2-second-successful-attempt:6373a9f13467451d12a87cf58bb7873b">Golang 1.1.2 second successful attempt</h2>

<p>A while later I decided that what I needed to do was build OpenWRT for the Onion but then I hit a blocker. Onion support was added to OpenWRT in July but the latest version of the toolchain that included Go was from May. So I bit the bullet and manually &ldquo;cherry-picked&rdquo; <a href="https://github.com/GeertJohan/openwrt-go/commits/add-gccgo-and-libgo?author=GeertJohan">all of the author&rsquo;s changes</a> from the older toolchain into the latest version of OpenWRT.</p>

<p>You can get <a href="https://gist.github.com/conoro/887362ebdbbada2cfbc6">the patchfile I generated here</a> and apply it.</p>

<p>NOTE: THESE STEPS WORK OK.</p>

<p>Now to build from scratch again:</p>

<pre><code>sudo dnf install -y subversion binutils bzip2 gcc gcc-c++ gawk gettext flex ncurses-devel zlib-devel zlib-static make patch unzip perl-ExtUtils-MakeMaker glibc glibc-devel glibc-static quilt sed sdcc intltool sharutils bison wget

. ~/openwrt.config   (see the contents of that file in the first failed attempt)

rm -rf ~/openwrt
git clone git://git.openwrt.org/openwrt.git openwrt
cd openwrt
</code></pre>

<pre><code>nano feeds.conf.default
</code></pre>

<p>and append the following:</p>

<pre><code>src-git onion https://github.com/OnionIoT/OpenWRT-Packages.git
</code></pre>

<p>Then:</p>

<pre><code>scripts/feeds update -a

make menuconfig
</code></pre>

<p>Note you have to include the same menuconfig settings as before i.e.</p>

<ul>
<li>-&gt; Advanced configuration options</li>
<li>&ndash;&gt; Toolchain options</li>
<li>&mdash;&gt; C library implementation</li>
<li>&mdash;-&gt; Use eglibc</li>
<li>-&gt; Advanced configuration options</li>
<li>&ndash;&gt; Toolchain options</li>
<li>&mdash;&gt; Select Build/Install gccgo</li>
</ul>

<p>Plus the following for both the Onion and USB stick. This uses <a href="https://github.com/OnionIoT/OpenWRT-Packages/wiki/Setting-Up-the-Cross-Compile-Environment">some instructions from the Onion site</a>:</p>

<ol>
<li>Target System is Atheros AR7xxx/AR9xxx</li>
<li>Subtarget is Generic</li>
<li>Target Profile is Onion Omega</li>
<li>Target Images is squashfs</li>
<li>Add kmod-fs-vfat</li>
<li>Add kmod-nls-cp437</li>
</ol>

<pre><code>make
</code></pre>

<p>Several hours later again, I finally had <a href="http://conoroneill.net.s3.amazonaws.com/wp-content/uploads/2015/11/openwrt-ar71xx-generic-onion-omega-squashfs-factory.bin">a version of the firmware that included Go support</a> and ran on the Onion by doing the following on the Onion:</p>

<pre><code>cd /tmp
scp conor@192.168.0.9:/mnt/disk2/software/openwrt-ar71xx-generic-onion-omega-squashfs-factory.bin .
sysupgrade openwrt-ar71xx-generic-onion-omega-squashfs-factory.bin 
</code></pre>

<h2 id="hello-world-web-server-in-go-on-the-onion-omega:6373a9f13467451d12a87cf58bb7873b">Hello World Web Server in Go on the Onion Omega</h2>

<p>Back to helloworld on the Fedora 22 VM:</p>

<pre><code>alias mips_gccgo='mips-openwrt-linux-gccgo -Wl,-R,/home/conor/openwrt/staging_dir/toolchain-mips_34kc_gcc-4.8-linaro_glibc-2.19/lib/gcc/mips-openwrt-linux-gnu/4.8.3 -L /home/conor/openwrt/staging_dir/toolchain-mips_34kc_gcc-4.8.0-linaro_glibc-2.19/lib'

mips_gccgo -Wall -o helloweb_static_libgo helloweb.go -static-libgo
</code></pre>

<p>Copy to the Onion and run it with a simple ./helloweb_static_libgo</p>

<p>Hurrah, Hello World in Go on the Onion!</p>

<p><img src="http://conoroneill.net.s3.amazonaws.com/wp-content/uploads/2015/11/go_on_onion_omega_02.jpg" alt="I love mac and cheese" /></p>

<h2 id="tweeting-from-the-onion-omega-in-go:6373a9f13467451d12a87cf58bb7873b">Tweeting from the Onion Omega in Go</h2>

<p>I should have left it at that but no, I wanted to Tweet from the Onion. My problems multiplied. Basically, gccgo doesn&rsquo;t have all the bells and whistles of recent Go and can&rsquo;t handle included packages easily. After some reading and playing, I managed to build a Tweeting App that used the <a href="https://github.com/kurrik/twittergo">Twittergo package</a>. Note you need a local Fedora version of <a href="https://golang.org/dl/">Go installed and configured</a> for &ldquo;go get&rdquo; to work (or just git clone). My $GOPATH is /home/conor/gitwork/go</p>

<p>I used the <a href="https://github.com/kurrik/twittergo-examples/blob/master/tweet/main.go">example from Twittergo</a> to send the tweet, with the same mods to remove paths from the imports as the other files.</p>

<pre><code class="language-bash">. ~/openwrt.config

cd ~/gitwork/go/src/github.com
go get github.com/kurrik/twittergo
go get github.com/kurrik/oauth1a
go get github.com/kurrik/json
cd kurrik/json
mips-openwrt-linux-gccgo -c json.go
cd ../oauth1a
mips-openwrt-linux-gccgo -c oauth1a.go userconfig.go
cd ../twittergo
cp ../json/json.o .
cp ../oauth1a/oauth1a.o .
emacs twittergo.go  (change github.com/kurrik/oauth1a to oauth1a)
emacs models.go  (change github.com/kurrik/json to json)
mips-openwrt-linux-gccgo -c twittergo.go models.go
emacs tweetomega.go
mips_gccgo -Wall -o tweetomega main.go -static-libgo json.o  oauth1a.o twittergo.o
gedit CREDENTIALS
</code></pre>

<p>I was nearly there. The code ran but threw an error almost immediately about x509 root certs being missing. I ran all of the following, which seemed to fix it (but I&rsquo;m not sure if all needed):</p>

<pre><code class="language-bash">opkg update
opkg install ca-certificates
opkg install openssl-util
opkg install curl
wget http://curl.haxx.se/ca/cacert.pem
mv cacert.pem /etc/ssl/certs/ca-certificates.crt
scp conor@192.168.0.9:/mnt/disk2/software/CREDENTIALS .
scp conor@192.168.0.9:/mnt/disk2/software/tweetomega .
./tweetomega
</code></pre>

<p>And finally ta-daaaa, a Tweet from the Omega:</p>

<p><img src="http://conoroneill.net.s3.amazonaws.com/wp-content/uploads/2015/11/hushvine_onion_01.jpg" alt="Tweetin Omega" /></p>

<p>I now suspect that the Node.js error may have been exactly the same thing but just hidden so I&rsquo;ll go back and try the same for it.</p>

<h2 id="final-notes:6373a9f13467451d12a87cf58bb7873b">Final notes</h2>

<ol>
<li>That custom firmware I built is missing all of the Onion&rsquo;s own stuff and I&rsquo;m not sure how to add that. However you can easily re-install the latest factory Onion image by wgetting it using the URL you find <a href="http://cloud.onion.io/api/firmware/stable.json">in this file</a> into /tmp using sysupgrade name_of_image.</li>
<li>We really need Go 1.6 to support MIPS. I think the Onion is a great device for running Go. We might even get <a href="http://gobot.io/">Gobots</a> running.</li>
</ol>

                    </div>
                </section>
                
                <h1 class="content-subhead">03 Nov 2015, 08:22</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="http://conoroneill.net/all-the-tech-behind-our-halloween-hallway-of-horror/" class="post-title">All the gory tech behind our Halloween Hallway of Horror</a>

                        <p class="post-meta">
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        

<p>Despite starting weeks earlier than usual, Halloween still involved a day of last minute panic to bring everything together. The end result was this:</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/FClhSNwFfT0" frameborder="0" allowfullscreen></iframe>

<p>The basic setup was an update of ideas from previous years and consisted of the following.</p>

<h2 id="3d-printed-mummy-in-coffin-doorbell:308bcb7036a2d3eb810a4711be2b8022">3D-printed Mummy in Coffin Doorbell</h2>

<p>This was my favourite aspect of the whole thing. I spotted a <a href="http://www.thingiverse.com/thing:32905">cool 3D design on Thingiverse</a> and realised I could turn it into a doorbell by dremeling a hole in the back and hot-glueing the mummy to a simple push button.</p>

<p><img src="http://conoroneill.net.s3.amazonaws.com/wp-content/uploads/2015/11/mummy01b.jpg" alt="Mummy Doorbell 1" /></p>

<p>In fact the button was one I originally bought in 2012 when I got back into electronics. There was a small bug in my debounce code which I discovered too late and meant that kids had to press the button twice. But overall only a few failed to figure it out.</p>

<p><img src="http://conoroneill.net.s3.amazonaws.com/wp-content/uploads/2015/11/mummy02b.jpg" alt="Mummy Doorbell 2" /></p>

<h2 id="adafruit-audio-breakout-board-and-amp-with-speakers:308bcb7036a2d3eb810a4711be2b8022">Adafruit Audio breakout board and amp with speakers</h2>

<p>I had intended everything to be Arduino and ESP8266 (running Arduino code) only so I needed some way of playing the scream. In previous years <a href="http://conoroneill.net/the-raspberrypi-doorbell-of-dooooooooommmmmmmm/">I used a Raspberry Pi</a> (successfully) and <a href="http://conoroneill.net/a-tech-halloween-mainly-made-of-fail/">a really crappy device</a> (less successfully).</p>

<p>In a bizarre twist to the <a href="https://www.indiegogo.com/projects/be-maker-kit-plus-free-lessons-on-electronics-from-zero-to-internet-of-things">BE Maker Kit Indiegogo scam</a>, one of the people involved somehow got a Florida company to provide free electronics to the right amount. I used this to buy the <a href="http://www.adafruit.com/products/1381">Adafruit VS1053 Audio board</a> and <a href="https://www.adafruit.com/products/987">Adafruit MAX98306 Audio Amp</a>. The wiring on this looks complicated but it&rsquo;s straight out of their tutorial.</p>

<p><img src="http://conoroneill.net.s3.amazonaws.com/wp-content/uploads/2015/11/vs1053.jpg" alt="Scary Sounds" /></p>

<p>Audio was courtesy of <a href="https://rg3.github.io/youtube-dl/">youtube-dl</a> and <a href="http://winff.org/html_new/">WinFF</a> on <a href="https://www.youtube.com/watch?v=BFqHyCoypfM">this clip from YouTube</a>.</p>

<p>The Arduino Nano for this was the &ldquo;Master&rdquo; device. It detected the doorbell press and then started playing the file on the SD card and sent a high signal both to the Banana Pi for the LED strip and the Arduino Uno for the relays controlling the skull. It&rsquo;s basically the Adafruit demo VS1053 code with a few extra lines added by me. The code for that <a href="https://gist.github.com/conoro/58a028f7399b4e50619e">is here on Gist</a>.</p>

<h2 id="wifi-controlled-rgb-led-strip-using-a-banana-pi:308bcb7036a2d3eb810a4711be2b8022">Wifi Controlled RGB LED Strip using a Banana Pi</h2>

<p>I finally ordered a bog-standard <a href="http://eud.dx.com/product/waterproof-72w-4300lm-300-5050-smd-led-rgb-light-flexible-strip-w-44-key-controller-844233947">5 metre 5050 RGB LED strip from dx.com</a> over the summer. The value on these things is just staggering at less than €20.</p>

<p><img src="http://conoroneill.net.s3.amazonaws.com/wp-content/uploads/2015/11/sku_233947_1.jpg" alt="RGB LED" /></p>

<p>They come with a dedicated remote control and just need a decent PSU to provide the power. Myself and the kids had great fun illuminating my entire home office in a range of colours.</p>

<p>But the challenge for Halloween was how to control it. I could have run <a href="http://www.lirc.org/html/irrecord.html">irrecord</a> on an <a href="http://www.hardkernel.com/main/products/prdt_info.php?g_code=G141578608433">ODROID C1</a> or <a href="http://www.bananapi.org/p/product.html">Banana Pi</a> to reverse engineer the remote control protocol and then use <a href="http://eud.dx.com/product/38khz-ir-infrared-transmitter-module-for-arduino-844135040">the RC transmitter</a> I bought on DX. But luckily someone <a href="http://hackaday.com/2015/08/25/esp8266-in-commercial-products/">told Hackaday about the first ESP8266-powered commercial product</a> they had found. It was a <a href="http://es.aliexpress.com/item/rgb-strip-WiFi-controller-1-port-control-15-rgb-lights-communicate-with-Android-phone-to-dim/32301423622.html">€9 Wifi H801 control module</a> for RGB LED strips! I just had to get one.</p>

<p><img src="http://conoroneill.net.s3.amazonaws.com/wp-content/uploads/2015/11/Rgbww-tira-llevada-regulador-wifi-1-port-control-200-luces-comunicar-con-tel%C3%A9fono-Android-a-trav%C3%A9s.jpg_350x350.jpg" alt="Wifi RGB LED" /></p>

<p>It&rsquo;s a brilliant little box that is easy to wire up and has a simple Android App for control. You connect to the internal Wifi Access Point it provides to do this. Here is the brilliant piece: You then use the app to tell the module to connect to your own Wifi router and then you do the same with the phone. Now your RGB LED strip is on your network!</p>

<p>But it gets better. A very smart person <a href="https://www.domoticz.com/forum/viewtopic.php?f=38&amp;t=7957">reverse-engineered the basic over-the-air protocol</a> that the app uses to control the Wifi module. Unfortunately he was using a slightly different module to me and it didn&rsquo;t work. I then spent a week of evenings learning all about <a href="https://www.wireshark.org/">Wireshark</a> and <a href="https://en.wikipedia.org/wiki/Netcat">Netcat</a>. I was able to do the same as him and find the basic UDP control protocol (only minor difference in the packets)</p>

<p>In summary:</p>

<ul>
<li>OFF: \xfb\xeb\x00\x00\x00\x00\x00\x9f\x97\x9d\x00</li>
<li>RED: \xfb\xeb\xff\x00\x00\x00\x00\x9f\x97\x9d\x00</li>
<li>GREEN: \xfb\xeb\x00\xff\x00\x00\x00\x9f\x97\x9d\x00</li>
<li>BLUE: \xfb\xeb\x00\x00\xff\x00\x00\x9f\x97\x9d\x00</li>
</ul>

<p>My plan was to use a <a href="http://nodemcu.com/index_en.html">NodeMCU ESP8266 module</a> to send the relevant commands, using either NodeMCU LUA or the <a href="https://github.com/esp8266/Arduino">Arduino port to ESP8266</a> but I ran out of time to experiment.</p>

<p>So I had Netcat working happily on the Banana Pi running Fedora but I also needed to be able to use the GPIO pins to tell the BPi when to turn on/off the LED strip. I then made the classic mistake of panicking on Halloween morning and switching to the RaspberryPi so I could use <a href="http://wiringpi.com/">WiringPi</a> for GPIO. Except the Netcat commands hung on the RPi (still no idea why).</p>

<p>Some Googling revealed that WiringPi had been <a href="https://github.com/LeMaker/WiringBP">ported to Raspbian on the BPi</a> so I tried that. Same Netcat problem! So I took a chance and re-inserted the Fedora SD card and downloaded the BPi version of WiringPi. Result! It compiled and ran perfectly.</p>

<p>The I moved on to several hours of trying to write a Bash script to monitor a GPIO pin using WiringPi and control the RGB LED strip with echo/netcat. All I will say about that is I am never ever writing a Bash script again (space-sensitive around brackets/equals for the love of god). This is the final result and, to be fair, it worked seamlessly:</p>

<pre><code class="language-bash">
#!/bin/bash
sets=`/usr/local/bin/gpio mode 7 down`
setit=$sets
state=&quot;low&quot;
echo -e '\xfb\xeb\x00\x00\x00\x00\x00\x9f\x97\x9d\x00' | nc -v -u 192.168.0.128 30977
sleep 1
while :
do
    pins=`/usr/local/bin/gpio read 7`
    if [ $pins = &quot;1&quot; ]; then
        if [ $state = &quot;low&quot; ]; then
            echo -e '\xfb\xeb\xff\x00\x00\x00\x00\x9f\x97\x9d\x00' | nc -v -u 192.168.0.128 30977
            state=&quot;high&quot;
            echo high 
        fi
    else
        if [ $state = &quot;high&quot; ]; then
           echo -e '\xfb\xeb\x00\x00\x00\x00\x00\x9f\x97\x9d\x00' | nc -v -u 192.168.0.128 30977
           state=&quot;low&quot;
           echo low
        fi
    fi
done

</code></pre>

<p>But I was so horrified by Bash, I did a quick and dirty re-write <a href="https://gist.github.com/conoro/935e0fa3acc90d066b9a">to Go this morning</a>. It uses the <a href="https://github.com/hugozhu/rpi">Golang bindings to WiringPi</a> and seems to work very well.</p>

<p>So the strip was now sorted. On to the rotating skull.</p>

<h2 id="an-anatomically-correct-skull-with-scary-eyes:308bcb7036a2d3eb810a4711be2b8022">An anatomically correct skull with scary eyes</h2>

<p>The skull idea came from a wonderful <a href="http://www.tested.com/art/makers/530668-how-make-realistic-horror-skull-prop/">tested.com video</a> where special effects artist Frank Ippolito bought a cheap skull on Amazon and then used latex, cotton wool and paint to turn it into a horrific burn-victim thing.</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/v8w4hufoujg" frameborder="0" allowfullscreen></iframe>

<p>I thought we could do the same and found a skull on Amazon UK. It arrived and looked great apart from the lack of a movable jaw. But it then sat there for months with no progress due to me being artistically challenged.</p>

<p>As an alternative I thought about doing something with eyes so I got some half-eyes from Amazon too They were a smidge small but fit for purpose. I grabbed some of my old tiny micro-servos which I have never found a use for and hot-glued the eyes to them. A bit of messing with the range of movement and I had a vaguely spooky setup.</p>

<iframe width="420" height="315" src="https://www.youtube.com/embed/EagDgNoEpTc" frameborder="0" allowfullscreen></iframe>

<p>But the fact that you could see the servos and they move pretty slowly meant I was a bit disappointed. I tried to vamp them up a bit more by adding neopixel ring but it was too big so I switched to a single funky Adafruit RGB neopixel on each one. So now I had 6 wires coming out of each eye.</p>

<iframe width="420" height="315" src="https://www.youtube.com/embed/30LBjo5oG3I" frameborder="0" allowfullscreen></iframe>

<p>Finally on Saturday morning I went to finish this bit and decided it was too much work to get the Arduino code tweaked to do 2x Neopixels and 2x servos and somehow trigger them on/off on a potentially rotating head. At this point I found the silly fake-eye pingpong balls from last year. A quick cut in the back and I hot-glued a Neopixel to each one. I then hot-glued the eyes into the skull and wired the Neopixels to an Arduino Nano.</p>

<p><img src="http://conoroneill.net.s3.amazonaws.com/wp-content/uploads/2015/11/skull_top.jpg" alt="Skull Arduino" /></p>

<p>I stuck the Nano and a Lipo battery to the top of the skull and covered it with a cool Buff. Having the eyes on permanently removed a little bit of the element of surprise but I still thought it worked well. The code for the Neopixels was just the <a href="https://github.com/adafruit/Adafruit_NeoPixel/blob/master/examples/strandtest/strandtest.ino">standard Adafruit strand test</a>.</p>

<p><img src="http://conoroneill.net.s3.amazonaws.com/wp-content/uploads/2015/11/buff_skull.jpg" alt="Buff Skull" /></p>

<h2 id="making-the-skull-rotate:308bcb7036a2d3eb810a4711be2b8022">Making the skull rotate</h2>

<p>I had always known I would rotate the skull in some fashion but for a while I wasn&rsquo;t sure how. Quite a few weeks ago I came up with the idea to cement a hex driver into the bottom of the skull and sit it on top of a cheap crap €20 electric screwdriver I got ages ago from Woodies.</p>

<p><img src="http://conoroneill.net.s3.amazonaws.com/wp-content/uploads/2015/11/screwdriver1.jpg" alt="Screwdriver1" /></p>

<p>As a screwdriver it was rubbish due to slowness and lack of torque. As a skull-rotator it was awesome, spinning the skull around at high speed.</p>

<p><img src="http://conoroneill.net.s3.amazonaws.com/wp-content/uploads/2015/11/screwdriver2.jpg" alt="Screwdriver2" /></p>

<p>Of course I left the difficult bits until a week before Halloween when I sat down and tried to figure out how to control it all. The first attempt was with a dirt cheap double relay board I got 3 years ago and never used. But I couldn&rsquo;t figure out how to make it go forwards and reverse. I then tried an old knock-off Adafruit Motor Shield but it couldn&rsquo;t deliver enough juice (even with a 7.2V LiPo) to overcome the motor&rsquo;s inertia. Finally I <a href="http://arduino-info.wikispaces.com/ArduinoPower">found a relay circuit</a> that did forward/reverse and it worked like a charm.</p>

<p><img src="http://conoroneill.net.s3.amazonaws.com/wp-content/uploads/2015/11/DC_Motor_2SPDT_Relay-450.jpg" alt="Circuit" /></p>

<p><img src="http://conoroneill.net.s3.amazonaws.com/wp-content/uploads/2015/11/relay2.jpg" alt="Relay" /></p>

<p>But how was I going to handle starting/stopping the skull so it was facing away (and potentially covered) initially and then rotating at the right time and stopping in the right position? Of course I left that to Halloween itself.</p>

<p>I used polystyrene and duct tape to brace the screwdriver. Then I setup two limit switches. I then applied power. The head spun around and ripped the switches off their mounts. Damn. So another quick executive decision was made. The head would start rotating when the doorbell was pressed and then stop after 10-15 seconds. Which meant some kids would get the full scary effect whilst others would see the flashing eyes before they got to the door.</p>

<iframe width="420" height="315" src="https://www.youtube.com/embed/_alMNaewNXw" frameborder="0" allowfullscreen></iframe>

<h2 id="tying-it-all-together:308bcb7036a2d3eb810a4711be2b8022">Tying it all together</h2>

<p>This turned out to be pretty easy. I have a ton of decent wire from a dead Christmas tree light string and used that to connect everything up. The doorbell connected to one Arudino which then toggled a pin which the other Arduinos were connected to. After N seconds, it toggled the pin the other way to shut it all down.</p>

<p><img src="http://conoroneill.net.s3.amazonaws.com/wp-content/uploads/2015/11/wiring.jpg" alt="Wiring" /></p>

<p>It worked very very well.</p>

<iframe width="420" height="315" src="https://www.youtube.com/embed/JvAI6WQglpk" frameborder="0" allowfullscreen></iframe>

<h2 id="next-year:308bcb7036a2d3eb810a4711be2b8022">Next year?</h2>

<p>Hmm not sure. I wanted to do something with ghosts flying down zip wires a few years ago but I just didn&rsquo;t have the knowhow. I&rsquo;m feeling a lot more confident about that now.</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">23 Oct 2015, 13:54</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="http://conoroneill.net/facebook-is-the-amazon-killer/" class="post-title">Facebook is the Amazon AWS Killer</a>

                        <p class="post-meta">
                            
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>AWS is now an $8Bn business for Amazon. Could anyone have predicted that in 1997 or even 2007? This week I was talking to a few people about who might be able to disrupt AWS. It won&rsquo;t be easy. We immediately discounted the old guys like HP, IBM, Dell etc and even Google seems to be a complete also-ran in IaaS. Microsoft Azure might have potential.</p>

<p>PaaS is separate as it&rsquo;s higher up the stack and makes use of IaaS. I expect Open Source PaaS like <a href="http://www.openshift.com/">OpenShift 3</a> to grow very quickly in the coming years as it makes deployment and management of Apps incredibly easy. Where PaaS might hurt AWS is in abstracting what IaaS you are using, so as long as the feature set is there, you don&rsquo;t care where your Apps are running (apart from Geo lag and data protection laws).</p>

<p>One of the people I talked to thinks that AWS will be slayed by a startup who may not even exist yet. He also felt that smart VPSes like <a href="http://www.digitalocean.com">DigitalOcean</a> might do it. I&rsquo;m a huge fan of DO and gained enormous reliability and speed by switching to it from Google Compute Engine/CloudSQL whilst reducing my bill by 2/3rds. But it still feels like an SME/SMB or individual developer solution.</p>

<p>So I&rsquo;m predicting it&rsquo;ll be Facebook. Why? Think about the following:</p>

<ul>
<li>They understand building things at massive scale on a global basis</li>
<li>They build their <a href="http://www.thejournal.ie/facebook-building-data-centre-in-meath-2161944-Jun2015/">own datacenters</a></li>
<li>They built the <a href="http://www.theguardian.com/technology/2015/sep/25/facebook-datacentre-lulea-sweden-node-pole">most energy efficient computing facility</a> ever</li>
<li>They created the <a href="http://www.opencompute.org/">Open Compute</a> project</li>
<li>They have incubated some <a href="https://github.com/facebook">incredible Open Source projects</a> like <a href="http://cassandra.apache.org/">Cassandra</a> and <a href="https://facebook.github.io/react/">React</a></li>
<li>They use PHP. Forget I mentioned that ;-)</li>
<li>They understand that <a href="http://ben-evans.com/benedictevans/2015/6/19/presentation-mobile-is-eating-the-world">mobile is eating the world</a> and they own <a href="https://parse.com/">Parse</a></li>
<li>They understand real-time messaging <a href="https://www.whatsapp.com/">at massive scale</a></li>
<li>They could do this in their sleep</li>
</ul>

<p>The big open question is how they do their virtualisation and containerisation. If they have that nailed, then I think they might go for it.</p>

<p>Let&rsquo;s re-visit this post in 5 years.</p>

                    </div>
                </section>
                
            </div>
            
<div class="pagination">
  <nav role="pagination" class="post-list-pagination">
      
    <span class="post-list-pagination-item post-list-pagination-item-current">Page 1 of 74</span>
    
      <a href="/page/2/" class="post-list-pagination-item pure-button post-list-pagination-item-next">
        Older&nbsp;<i class="fa fa-angle-double-right"></i>
      </a>
    
  </nav>
</div>


            <div class="footer">
    <div class="pure-menu pure-menu-horizontal pure-menu-open">
        <ul>
            <li>Powered by <a class="hugo" href="http://hugo.spf13.com/" target="_blank">hugo</a>. Copyright Conor O'Neill 2010</li>
        </ul>
    </div>
</div>
<script src="http://conoroneill.net/js/all.min.js"></script>
        </div>
    </div>
</div>


<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-88610-4', 'auto');
ga('send', 'pageview');

</script>

</body>
</html>
