<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>A modest proposal for a crowd-sourced Irish flood warning system | Cross Dominant</title><meta name="description" content="Mixed Laterality since 1968"><meta property="og:title" content="A modest proposal for a crowd-sourced Irish flood warning system | Cross Dominant"><meta property="og:type" content="article"><meta property="og:description" content="Mixed Laterality since 1968"><meta property="og:url" content="http://conoro.github.io/blog/770"><meta property="og:image" content="http://conoro.github.io/images/logo.png"><meta property="og:site_name" content="Cross Dominant"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@conoro"><meta name="twitter:creator" content="@conoro"><meta name="twitter:title" content="A modest proposal for a crowd-sourced Irish flood warning system | Cross Dominant"><meta name="twitter:description" content="Mixed Laterality since 1968"><meta name="twitter:image" content="http://conoro.github.io/images/logo.png"><link rel="author" href="https://plus.google.com/+ConorONeill/posts"><link rel="shortcut icon" href="/favicon.ico"><link rel="alternate" type="application/rss+xml" title="Cross DominantRSS Feed" href="/blog/rss.xml"><link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Lato:400,300,300italic,400italic,700,700italic"><link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Lekton"><link rel="stylesheet" href="/css/main.css"><!--[if lt IE 9]><script src="/js/html5shiv.js"></script><![endif]--><script type="text/javascript">var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-88610-4']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script></head><body class="page-blog blog-770"><header class="masthead"><div class="container"><h1><a href="/">Cross Dominant</a></h1></div><div class="img"></div></header><div class="content"><div class="container"><article class="post"><h1 class="lg title">A modest proposal for a crowd-sourced Irish flood warning system</h1><h2 class="sm date"></h2><h1>&quot;A modest proposal for a crowd-sourced Irish flood warning system&quot;</h1>
<p>The floods that hit Cork on June 28th were shocking, not just because it was June (!) but also because of the speed with which things went catastrophic. I&#39;ve written several times about the Bandon Flood Early Warning System (FEWS) and the opening up of their data, but I&#39;ve now realised we can do a lot more. For those hit this week in Clonakilty and Douglas, there was no warning. They woke up to find their houses, cars and businesses submerged. Implementing a system like Bandon FEWS would help. It is a water monitor on the river that triggers SMS warnings to registered users when certain levels are hit. But there are a few problems with it:</p>
<p><ol>
    <li>It only reports once per hour</li>
    <li>It only sends SMS</li>
    <li>It only measures one river</li>
    <li>It only does so at one point</li>
    <li>The data is not open (well it is after I scraped it)</li>
</ol>
For someone with a business in Douglas, would a text message sent a 3am really have been noticed and reacted to? Was a river even to blame in Douglas or Clon? Or was it the drains not able to handle the torrential rain? So I&#39;d like to propose the following: <a href="http://uk.oregonscientific.com/shop/product.asp?para2=Weather&amp;para1=Rain-Gauges&amp;para3=PCR800-Rain-Gauge-for-WMR-Series">Oregon Scientific PCR800 Rain Gauge</a> How to power? Maybe using <a href="http://freeloadersolar.com/shop/freeloader-pico.htm">Freeloader Pico Solar+Battery</a> from UK? Possibly the <a href="http://www.amazon.com/La-Crosse-TX10U-Rain-Sensor/dp/B000A2NF2S">La Crosse TX10U</a> is suitable. Not sure about power! This crowd in France sell the <a href="http://www.meteotronic.com/P-37-84-en--A1-tx5-transmitters-rain-meters.html#">La Cross TX5</a>and ship to Irelandbut no idea if the protocol is the same. UPDATE: Ordered on Aug 18th. Arrived on Aug 21st. <del>This <a href="http://www.eyeshop.com/en/pdt/Accessories/Oregon-Scientific--PCR-800-4891475055512/Oregon-Scientific/?idpdt=64183">crowd in Chamonix</a> should ship the PCR800 to Ireland but haven&#39;t replied to my emails. Update: Ordered but then cancelled as Oregon no longer make it!</del> Arduino Raspberry Pi The wireless water gauges are placed around the country wherever there is a chance of flooding. They need to be near enough to an indoor Receiver+RPi+Arduino so that they can send the rainfall data wirelessly. the RPi then needs to be connected to the internet either using LAN cable or Wifi. The RPi gets the data off the Arduino and uploads it to Open Weather Map, Cosm and Google Fusion Tables. In places where there is no access to Wifi or LAN could we make a variation using a cheap Android phone and <a href="http://www.sparkfun.com/products/10748">IOIO</a>? But would need PAYG SIMs and someone to pay for them! Would not report levels, just alarm conditions. (Also IOIO is expensive at $50) The alerting/warning bit - is this done by each RPi directly or do we run an overall management app on EC2 which watches all the levels for trends and then sends alerts to those who are registered for that area (the latter I think)? <a href="http://alexandre.alapetite.fr/doc-alex/raspberrypi-nodejs-arduino/">Raspberry Pi with Node.js and Arduino</a> <a href="http://www.practicalarduino.com/projects/weather-station-receiver">Arduino Weather Station Receiver</a> <a href="http://www.arduino.cc/cgi-bin/yabb2/YaBB.pl?num=1256657250">More info on Arduino with La Crosse</a> ??? <a href="http://wmrx00.sourceforge.net/Arduino/WxShield-V1.html">WxShield Weather Station Logger</a> <a href="http://sourceforge.net/projects/wmrx00/files/Current%20Stable%20Release/">And WxShield Software</a> <a href="http://www.google.com/fusiontables/Home/">Google Fusion Tables</a> <a href="http://www.cosm.com">Cosm/Pachube</a> <a href="http://learn.adafruit.com/send-raspberry-pi-data-to-cosm/necessary-packages">Tutorial on using Raspberry Pi with Cosm (Python code)</a> <del>Check <a href="http://www.chmarine.com">Ch Marine</a> for Rain Gauges</del> See what people are doing on <a href="http://www.irelandsweather.com/forum/index.php?topic=2310.msg52009#msg52009">Irish Weather Network</a>. Ask if they are interested. It&#39;s not just monitoring and recording, we need an alert system with all of the following:</p>
<p><ul>
    <li>SMS - via Clickatell</li>
    <li>email - via Authsmtp or Amazon SES</li>
    <li>Mobile App (Android, iPhone, BB) that gets louder and louder as the levels rise</li>
    <li>Simple bedside alarm dedicated to floods? <a href="http://tech2077.blogspot.ie/2012/06/running-hd44780-lcd-over-i2c-on.html">Raspberry Pi with LCD screen</a>, wifi, alarm LEDs and loud buzzer (how to configure Wifi? via PC?)</li>
    <li>GTalk</li>
    <li>Facebook IM</li>
    <li>Twitter</li>
</ul></p>
<p><div>Co-ordinate more closely with Brendan Cunningham in <a href="http://mapalerter.com">MapAlerter</a> which could be that central hub.</div></p>
<p><div></div></p>
<p><div>Soobviouslyneed an account system with self-registration etc. Could probably lash together in WordPress? Person sets their location (or the location of the thing they want to monitor)</div></p>
<p><div></div></p>
<p><div>Could we watch rain levels across the country and infer where bad stuff is going to happen next?</div></p>
<p><div></div></p>
<p><div>Can we get live access to Met Eireann data at Cork Airport etc?</div></p>
<p><div></div></p>
<p><div>Probably need to tie in tidal data if we are doing any sort of predictive stuff.</div></p>
<p><div></div></p>
<p><div>Then we can do lots data analysis once sufficient built up.</div></p>
<p><div></div></p>
<p><div><a href="http://www.newit.co.uk/shop/products.php?cat=5">Sheeva Plugs</a> as alternative to RPi?</div></p>
<p><div></div></p>
<p><div>Once it all works on Arduino, we can take two possible routes. One is to port the code to RPi and run everything there on the GPIO pins. But do we have 3.3V vs 5V issues there?</div></p>
<p><div></div></p>
<p><div>The other is to do it all on the Arduino and connect it to the <a href="http://www.amazon.co.uk/Link-TL-WR702N-150Mbps-Wireless-Router/dp/B006PYGWG6/ref=sr_1_11?ie=UTF8&amp;qid=1345903945&amp;sr=8-11">TP-Link WR702N portable router</a> using USB and OpenWRT.</div>
See the <a href="http://openweathermap.org">Open Weather Map</a> project. <a href="https://s3-eu-west-1.amazonaws.com/conoroneill.net/wp-content/uploads/2012/06/owm01.png"><img class="alignnone size-full wp-image-771" title="owm01" src="https://s3-eu-west-1.amazonaws.com/conoroneill.net/wp-content/uploads/2012/06/owm01.png" alt="" width="709" height="727" /></a></p>
<aside class="center author"><img src="/images/CliveStrong.jpg" alt="Conor O'Neill"/><h2 class="sm">Conor O'Neill</h2><p>Is an Irish technology guy. One of Ireland's first bloggers.</p><p class="links"><a href="/authors/admin">Posts</a><span>•</span><a href="http://twitter.com/conoro">Twitter</a><span>•</span><a href="https://plus.google.com/+ConorONeill/posts">Google+</a><span>•</span><a href="https://github.com/conoro">GitHub</a></p></aside><section class="comments"><h2>Discuss</h2><div id="disqus_thread"><script>var disqus_shortname = 'conor';
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a></div></section></article></div></div></body></html>